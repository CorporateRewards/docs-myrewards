
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>MyRewards - API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #e6db74;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-5550fc9e.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-28e276f9.js"></script>
    <link href="images/favicon-fb98f37b.png" rel="icon" type="image/png" />

  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-795491e1.png" class="logo" alt="" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication-token" class="toc-h2 toc-link" data-title="Token">Token</a>
                  </li>
                  <li>
                    <a href="#authentication-authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#core" class="toc-h1 toc-link" data-title="Core">Core</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#core-permissions" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-permissions-get-all-permissions" class="toc-h3 toc-link" data-title="Core">Get all Permissions</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-registration-questions" class="toc-h2 toc-link" data-title="Registration Questions">Registration Questions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-registration-questions-get-all-registration-questions" class="toc-h3 toc-link" data-title="Core">Get all Registration Questions</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-registration-questions-gt-list-of-values" class="toc-h2 toc-link" data-title="Registration Questions &gt; List of Values">Registration Questions &gt; List of Values</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-registration-questions-gt-list-of-values-get-list-of-values-associated-with-a-registration-question" class="toc-h3 toc-link" data-title="Core">GET List of Values associated with a registration question</a>
                          </li>
                          <li>
                            <a href="#core-registration-questions-gt-list-of-values-post-create-a-new-value-on-a-list-of-values-associated-with-a-registration-question" class="toc-h3 toc-link" data-title="Core">POST Create a new value on a list of values associated with a registration question</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-site-messages" class="toc-h2 toc-link" data-title="Site Messages">Site Messages</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-site-messages-create-a-site-message" class="toc-h3 toc-link" data-title="Core">Create a Site Message</a>
                          </li>
                          <li>
                            <a href="#core-site-messages-get-a-site-message" class="toc-h3 toc-link" data-title="Core">Get a Site Message</a>
                          </li>
                          <li>
                            <a href="#core-site-messages-get-all-site-messages" class="toc-h3 toc-link" data-title="Core">Get all Site Messages</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-transactions" class="toc-h2 toc-link" data-title="Transactions">Transactions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-transactions-get-all-transactions" class="toc-h3 toc-link" data-title="Core">Get all Transactions</a>
                          </li>
                          <li>
                            <a href="#core-transactions-get-last-transaction" class="toc-h3 toc-link" data-title="Core">Get last Transaction</a>
                          </li>
                          <li>
                            <a href="#core-transactions-create-a-transaction" class="toc-h3 toc-link" data-title="Core">Create a Transaction</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-user-groups" class="toc-h2 toc-link" data-title="User Groups">User Groups</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-user-groups-get-all-user-groups" class="toc-h3 toc-link" data-title="Core">Get all User Groups</a>
                          </li>
                          <li>
                            <a href="#core-user-groups-get-a-user-group" class="toc-h3 toc-link" data-title="Core">Get a User Group</a>
                          </li>
                          <li>
                            <a href="#core-user-groups-create-user-groups" class="toc-h3 toc-link" data-title="Core">Create User Groups</a>
                          </li>
                          <li>
                            <a href="#core-user-groups-update-a-user-group" class="toc-h3 toc-link" data-title="Core">Update a User Group</a>
                          </li>
                          <li>
                            <a href="#core-user-groups-delete-a-user-group" class="toc-h3 toc-link" data-title="Core">Delete a User Group</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-user-group-gt-permissions" class="toc-h2 toc-link" data-title="User Group &gt; Permissions">User Group &gt; Permissions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-user-group-gt-permissions-get-usergroup-permissions" class="toc-h3 toc-link" data-title="Core">GET UserGroup permissions</a>
                          </li>
                          <li>
                            <a href="#core-user-group-gt-permissions-update-a-user-group-39-s-permission-set" class="toc-h3 toc-link" data-title="Core">Update a User Group's Permission set</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-users" class="toc-h2 toc-link" data-title="Users">Users</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-users-create-a-user" class="toc-h3 toc-link" data-title="Core">Create a User</a>
                          </li>
                          <li>
                            <a href="#core-users-get-a-user" class="toc-h3 toc-link" data-title="Core">Get a User</a>
                          </li>
                          <li>
                            <a href="#core-users-update-a-user" class="toc-h3 toc-link" data-title="Core">Update a User</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-user-gt-permissions" class="toc-h2 toc-link" data-title="User &gt; Permissions">User &gt; Permissions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-user-gt-permissions-get-user-permissions" class="toc-h3 toc-link" data-title="Core">GET User permissions</a>
                          </li>
                          <li>
                            <a href="#core-user-gt-permissions-post-user-permissions" class="toc-h3 toc-link" data-title="Core">POST User permissions</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#core-companies" class="toc-h2 toc-link" data-title="Companies">Companies</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#core-companies-get-all-companies" class="toc-h3 toc-link" data-title="Core">Get all companies</a>
                          </li>
                          <li>
                            <a href="#core-companies-get-a-specific-company" class="toc-h3 toc-link" data-title="Core">Get a specific company</a>
                          </li>
                          <li>
                            <a href="#core-companies-create-a-company" class="toc-h3 toc-link" data-title="Core">Create a company</a>
                          </li>
                          <li>
                            <a href="#core-companies-update-a-company" class="toc-h3 toc-link" data-title="Core">Update a company</a>
                          </li>
                          <li>
                            <a href="#core-companies-delete-a-company" class="toc-h3 toc-link" data-title="Core">Delete a company</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#extra-features" class="toc-h1 toc-link" data-title="Extra Features">Extra Features</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#extra-features-data-widgets" class="toc-h2 toc-link" data-title="Data Widgets">Data Widgets</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#extra-features-data-widgets-get-all-data-widgets" class="toc-h3 toc-link" data-title="Extra Features">Get all Data Widgets</a>
                          </li>
                          <li>
                            <a href="#extra-features-data-widgets-get-a-data-widget-belonging-to-a-user" class="toc-h3 toc-link" data-title="Extra Features">Get a Data Widget belonging to a User</a>
                          </li>
                          <li>
                            <a href="#extra-features-data-widgets-update-a-data-widget-belonging-to-a-user" class="toc-h3 toc-link" data-title="Extra Features">Update a Data Widget belonging to a User</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#extra-features-target-trackers" class="toc-h2 toc-link" data-title="Target Trackers">Target Trackers</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#extra-features-target-trackers-get-all-target-trackers" class="toc-h3 toc-link" data-title="Extra Features">Get All Target Trackers</a>
                          </li>
                          <li>
                            <a href="#extra-features-target-trackers-get-a-target-tracker-39-s-values-belonging-to-a-user" class="toc-h3 toc-link" data-title="Extra Features">Get a Target Tracker's values belonging to a User</a>
                          </li>
                          <li>
                            <a href="#extra-features-target-trackers-update-a-target-tracker-belonging-to-a-user" class="toc-h3 toc-link" data-title="Extra Features">Update a Target Tracker belonging to a User</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#extra-features-badges" class="toc-h2 toc-link" data-title="Badges">Badges</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#extra-features-badges-get-user-badges" class="toc-h3 toc-link" data-title="Extra Features">GET User Badges</a>
                          </li>
                          <li>
                            <a href="#extra-features-badges-put-user-badge" class="toc-h3 toc-link" data-title="Extra Features">PUT User Badge</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#performance-module" class="toc-h1 toc-link" data-title="Performance Module">Performance Module</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#performance-module-allocated-claims" class="toc-h2 toc-link" data-title="Allocated Claims">Allocated Claims</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#performance-module-allocated-claims-view-allocated-claims" class="toc-h3 toc-link" data-title="Performance Module">View Allocated Claims</a>
                          </li>
                          <li>
                            <a href="#performance-module-allocated-claims-decline-allocated-claims" class="toc-h3 toc-link" data-title="Performance Module">Decline Allocated Claims</a>
                          </li>
                          <li>
                            <a href="#performance-module-allocated-claims-create-allocated-claims" class="toc-h3 toc-link" data-title="Performance Module">Create Allocated Claims</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#performance-module-self-claims" class="toc-h2 toc-link" data-title="Self Claims">Self Claims</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#performance-module-self-claims-create-a-self-claim" class="toc-h3 toc-link" data-title="Performance Module">Create a Self Claim</a>
                          </li>
                          <li>
                            <a href="#performance-module-self-claims-get-self-claims" class="toc-h3 toc-link" data-title="Performance Module">Get Self Claims</a>
                          </li>
                          <li>
                            <a href="#performance-module-self-claims-update-self-claim" class="toc-h3 toc-link" data-title="Performance Module">Update Self Claim</a>
                          </li>
                          <li>
                            <a href="#performance-module-self-claims-decline-self-claim" class="toc-h3 toc-link" data-title="Performance Module">Decline Self Claim</a>
                          </li>
                          <li>
                            <a href="#performance-module-self-claims-approve-self-claim" class="toc-h3 toc-link" data-title="Performance Module">Approve Self Claim</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#performance-module-data-fields" class="toc-h2 toc-link" data-title="Data Fields">Data Fields</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#performance-module-data-fields-list-all-data-fields" class="toc-h3 toc-link" data-title="Performance Module">List all Data Fields</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#performance-module-performance-categories" class="toc-h2 toc-link" data-title="Performance Categories">Performance Categories</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#performance-module-performance-categories-list-performance-categories" class="toc-h3 toc-link" data-title="Performance Module">List Performance Categories</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#performance-module-performance-products" class="toc-h2 toc-link" data-title="Performance Products">Performance Products</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#performance-module-performance-products-creating-a-product" class="toc-h3 toc-link" data-title="Performance Module">Creating a Product</a>
                          </li>
                          <li>
                            <a href="#performance-module-performance-products-updating-a-product" class="toc-h3 toc-link" data-title="Performance Module">Updating a Product</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#performance-module-reward-points" class="toc-h2 toc-link" data-title="Reward Points">Reward Points</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#performance-module-reward-points-get-reward-points" class="toc-h3 toc-link" data-title="Performance Module">Get Reward Points</a>
                          </li>
                          <li>
                            <a href="#performance-module-reward-points-create-reward-points" class="toc-h3 toc-link" data-title="Performance Module">Create Reward Points</a>
                          </li>
                          <li>
                            <a href="#performance-module-reward-points-update-reward-points" class="toc-h3 toc-link" data-title="Performance Module">Update Reward Points</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#performance-module-sales-data" class="toc-h2 toc-link" data-title="Sales Data">Sales Data</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#performance-module-sales-data-create-sales-data" class="toc-h3 toc-link" data-title="Performance Module">Create Sales Data</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#recognition-module" class="toc-h1 toc-link" data-title="Recognition Module">Recognition Module</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#recognition-module-recognition-wall" class="toc-h2 toc-link" data-title="Recognition Wall">Recognition Wall</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#recognition-module-recognition-wall-get-recognition-wall" class="toc-h3 toc-link" data-title="Recognition Module">Get Recognition Wall</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#recognition-module-nominations" class="toc-h2 toc-link" data-title="Nominations">Nominations</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#recognition-module-nominations-update-a-nomination-39-s-status" class="toc-h3 toc-link" data-title="Recognition Module">Update a Nomination's status</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#recognition-module-submissions" class="toc-h2 toc-link" data-title="Submissions">Submissions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#recognition-module-submissions-get-all-submissions" class="toc-h3 toc-link" data-title="Recognition Module">Get all submissions</a>
                          </li>
                          <li>
                            <a href="#recognition-module-submissions-update-a-submission" class="toc-h3 toc-link" data-title="Recognition Module">Update a Submission</a>
                          </li>
                          <li>
                            <a href="#recognition-module-submissions-decline-submission" class="toc-h3 toc-link" data-title="Recognition Module">Decline Submission</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#reward-module" class="toc-h1 toc-link" data-title="Reward Module">Reward Module</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#reward-module-instant-point-vouchers-ipv" class="toc-h2 toc-link" data-title="Instant Point Vouchers (IPV)">Instant Point Vouchers (IPV)</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#reward-module-instant-point-vouchers-ipv-create-an-ipv" class="toc-h3 toc-link" data-title="Reward Module">Create an IPV</a>
                          </li>
                          <li>
                            <a href="#reward-module-instant-point-vouchers-ipv-get-an-ipv" class="toc-h3 toc-link" data-title="Reward Module">Get an IPV</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#reward-module-points-overrides" class="toc-h2 toc-link" data-title="Points Overrides">Points Overrides</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#reward-module-points-overrides-update-a-points-override" class="toc-h3 toc-link" data-title="Reward Module">Update a points override</a>
                          </li>
                          <li>
                            <a href="#reward-module-points-overrides-delete-a-points-override" class="toc-h3 toc-link" data-title="Reward Module">Delete a points override</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sso-single-sign-on" class="toc-h1 toc-link" data-title="SSO (Single Sign On)">SSO (Single Sign On)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#sso-single-sign-on-saml" class="toc-h2 toc-link" data-title="SAML">SAML</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#sso-single-sign-on-saml-process-flow" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">Process flow</a>
                          </li>
                          <li>
                            <a href="#sso-single-sign-on-saml-the-assertion" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">The Assertion</a>
                          </li>
                          <li>
                            <a href="#sso-single-sign-on-saml-next-steps" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">Next steps</a>
                          </li>
                          <li>
                            <a href="#sso-single-sign-on-saml-further-information" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">Further information</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#sso-single-sign-on-saml-user-provisioning" class="toc-h2 toc-link" data-title="SAML User Provisioning">SAML User Provisioning</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#sso-single-sign-on-saml-user-provisioning-the-saml-attributestatement" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">The SAML AttributeStatement</a>
                          </li>
                          <li>
                            <a href="#sso-single-sign-on-saml-user-provisioning-further-notes" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">Further notes</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#sso-single-sign-on-openid-connect" class="toc-h2 toc-link" data-title="OpenID Connect">OpenID Connect</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#sso-single-sign-on-openid-connect-process-flow" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">Process flow</a>
                          </li>
                          <li>
                            <a href="#sso-single-sign-on-openid-connect-implementation-notes" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">Implementation notes</a>
                          </li>
                          <li>
                            <a href="#sso-single-sign-on-openid-connect-id-token" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">ID token</a>
                          </li>
                          <li>
                            <a href="#sso-single-sign-on-openid-connect-next-steps" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">Next steps</a>
                          </li>
                          <li>
                            <a href="#sso-single-sign-on-openid-connect-further-information" class="toc-h3 toc-link" data-title="SSO (Single Sign On)">Further information</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#deprecated-end-points" class="toc-h1 toc-link" data-title="Deprecated End-points">Deprecated End-points</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#deprecated-end-points-users-v2" class="toc-h2 toc-link" data-title="Users (v2)">Users (v2)</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#deprecated-end-points-users-v2-create-a-user" class="toc-h3 toc-link" data-title="Deprecated End-points">Create a User</a>
                          </li>
                          <li>
                            <a href="#deprecated-end-points-users-v2-update-a-user" class="toc-h3 toc-link" data-title="Deprecated End-points">Update a User</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the MyRewards API documentation.</p>

<p>Your 360insights project manager / customer success manager will share the API authentication details for your production site.</p>

<p>If you require a separate instance for testing and development purposes, please discuss this requirement with your 360insights project manager / customer success manager.</p>

<p>Access to the development build of MyRewards for upcoming features will only be granted on a discretionary basis.</p>

<p>A programme can have one or more API keys, each of which will be granted
permission to access different functionality from the API. As a standard, we use
RESTful json endpoints that will accept either HTML/HTTP form data or json data.</p>
<h1 id='authentication'>Authentication</h1><h2 id='authentication-token'>Token</h2>
<p>In order to use our API endpoints, you will need to have an API key created and
for this key to be granted the relevant permissions. To authenticate requests we
require you to pass us this key in the form of an HTTP header called
<code>Authorization</code> with the value set as <code>Token token={APIKEY}</code> or <code>Token token={APIKEY}:{SECRETKEY}</code>.</p>
<h2 id='authentication-authentication'>Authentication</h2>
<p>An API key now requires permissions to be assigned in order make any requests to the API. The issuer of your key will set permissions for endpoints you expect to access. If you need to access more of the API or you believe your permissions are not correct (unexpected 403 responses) then contact your key issuer.</p>

<p>Getting read access (GET) to an API endpoint does not mean that you will also have any kind of write access (PUT, PATCH, POST) and vice versa - these are separate permissions.</p>

<p>Permissions are granted on a &#39;least privilege&#39; basis in order to restrict access to the API functionality to just what is needed for a given use case i.e. user account provisioning or sales data integration etc.</p>

<aside class="warning">You must set the <strong>Authorization</strong> as detailed above</aside>
<h1 id='core'>Core</h1><h2 id='core-permissions'>Permissions</h2>
<p>Permissions are used to grant access to administrative and reporting areas of the programme.  They are also used to manage user access and ordering rights</p>
<h3 id='core-permissions-get-all-permissions'>Get all Permissions</h3>
<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/permissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable log in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hint"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable log in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"resource_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"General"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Order Rewards"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hint"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"User can order rewards if they have sufficient points available"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"resource_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Rewards module"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves all permissions for the current stack</p>
<h4 id='core-permissions-get-all-permissions-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/permissions</code></p>
<h4 id='core-permissions-get-all-permissions-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>permission id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>permission name</td>
</tr>
<tr>
<td>hint</td>
<td>string</td>
<td>permission hint</td>
</tr>
<tr>
<td>resource_group_name</td>
<td>string</td>
<td>parent resource group name</td>
</tr>
</tbody></table>
<h2 id='core-registration-questions'>Registration Questions</h2><h3 id='core-registration-questions-get-all-registration-questions'>Get all Registration Questions</h3>
<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/registration_questions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mandatory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"field_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"radio"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text_1 text_2 text_3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"field_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"field_level"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"free_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>A simple endpoint will be created to fetch registration_questions for this
programme (Again scoped by API key). This is potentially optional as a list of
registration_question_ids could be provided, although this list will have to be
managed and maintained carefully. Should any new mandatory fields be added to this list,
it would require development on the client side of the API unless this list can
be dynamically consulted via the api.</p>
<h4 id='core-registration-questions-get-all-registration-questions-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/registration_questions</code></p>
<h4 id='core-registration-questions-get-all-registration-questions-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>registration question identifier</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>label displayed on the form to the end user</td>
</tr>
<tr>
<td>mandatory</td>
<td>boolean</td>
<td>boolean if this question is mandatory for registration</td>
</tr>
<tr>
<td>field_type</td>
<td>string</td>
<td>options: [check_box, date_select, radio, select, text, user_group, linked_user]</td>
</tr>
<tr>
<td>options</td>
<td>string</td>
<td>options set for a choice question for check_box, select, or radio</td>
</tr>
<tr>
<td>field_name</td>
<td>string</td>
<td>the actual field name</td>
</tr>
<tr>
<td>free_text</td>
<td>boolean</td>
<td></td>
</tr>
</tbody></table>
<h2 id='core-registration-questions-gt-list-of-values'>Registration Questions &gt; List of Values</h2><h3 id='core-registration-questions-gt-list-of-values-get-list-of-values-associated-with-a-registration-question'>GET List of Values associated with a registration question</h3>
<p>An endpoint to fetch the list of values associated with a registration question. Returns
an array of values with their name and id.</p>

<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/registration_questions/{registration_question_id}/list_of_values</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"List value 1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"List value 2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='core-registration-questions-gt-list-of-values-get-list-of-values-associated-with-a-registration-question-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/registration_questions/{registration_question_id}/list_of_values</code></p>
<h4 id='core-registration-questions-gt-list-of-values-get-list-of-values-associated-with-a-registration-question-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>List value id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>List value name</td>
</tr>
</tbody></table>
<h3 id='core-registration-questions-gt-list-of-values-post-create-a-new-value-on-a-list-of-values-associated-with-a-registration-question'>POST Create a new value on a list of values associated with a registration question</h3>
<p>An endpoint to create a new list value for a registration question. On completion, returns
an array of all values with their name and id.</p>

<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/registration_questions/{registration_question_id}/list_of_values</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My new list value"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"List value 1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"List value 2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My new list value"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='core-registration-questions-gt-list-of-values-post-create-a-new-value-on-a-list-of-values-associated-with-a-registration-question-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/registration_questions/{registration_question_id}/list_of_values</code></p>
<h5 id='core-registration-questions-gt-list-of-values-post-create-a-new-value-on-a-list-of-values-associated-with-a-registration-question-http-request-body-parameters'>Body Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>string</td>
<td>the name of the new list value</td>
</tr>
</tbody></table>
<h2 id='core-site-messages'>Site Messages</h2>
<p>Site message are either plain text or HTML messages that appear in a User&#39;s message page. When a user 
logs in they are notified of any unread messages via a pop-up (usually in the bottom right corner)</p>
<h3 id='core-site-messages-create-a-site-message'>Create a Site Message</h3>
<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/user/{user_id}/site_messages/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Body: </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello John. You have &lt;strong&gt;won a prize&lt;/strong&gt;. Please visit the points area for more details."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello John. You have &lt;strong&gt;won a prize&lt;/strong&gt;. Please visit the points area for more details."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T02:20:02.000+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint creates a new site message for a user.</p>
<h4 id='core-site-messages-create-a-site-message-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/users/{user_id}/site_messages</code></p>
<h4 id='core-site-messages-create-a-site-message-request-parameters'>Request Parameters</h4><h5 id='core-site-messages-create-a-site-message-request-parameters-url-parameters'>URL Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>the ID of the user who will receive the message</td>
</tr>
</tbody></table>
<h5 id='core-site-messages-create-a-site-message-request-parameters-body-parameters'>Body Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>content</td>
<td>string</td>
<td>the content of message</td>
</tr>
</tbody></table>
<h3 id='core-site-messages-get-a-site-message'>Get a Site Message</h3>
<blockquote>
<p>Header: </p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/user/{user_id}/site_messages/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello John. You have &lt;strong&gt;won a prize&lt;/strong&gt;. Please visit the points area for more details."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T02:20:02.000+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Retrieves a specific site message.</p>
<h4 id='core-site-messages-get-a-site-message-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/users/{user_id}/site_messages/{id}</code></p>
<h4 id='core-site-messages-get-a-site-message-request-parameters'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>The ID of the user</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>The ID of the site message to retrieve</td>
</tr>
</tbody></table>
<h3 id='core-site-messages-get-all-site-messages'>Get all Site Messages</h3>
<blockquote>
<p>Header: </p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/user/{user_id}/site_messages</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello John. You have &lt;strong&gt;won a prize&lt;/strong&gt;. Please visit the points area for more details."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-18T02:20:02.000+00:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your Order is on it's way"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-16T07:58:03.000+01:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Retrieves all site messages for a user.</p>
<h4 id='core-site-messages-get-all-site-messages-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/users/{user_id}/site_messages</code></p>
<h4 id='core-site-messages-get-all-site-messages-request-parameters'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>The ID of the user</td>
</tr>
</tbody></table>
<h2 id='core-transactions'>Transactions</h2><h3 id='core-transactions-get-all-transactions'>Get all Transactions</h3>
<p>This endpoint is designed to list all of a users transactions in json format.
The points transactions will be debits and credits with a description field.</p>

<p>All transactions listed in the response will be ordered so as to have the most
recent transaction last in the list.</p>

<p>Please remember that if a user transaction is performed on the MyRewards 2.0
platform since a request is made over the api  this balance will be out of date.</p>

<p>On the server side a check will be made that the user_id you are requesting is</p>

<ul>
<li>a valid user</li>
<li>it is a user for the programme that your api key is scoped to.</li>
</ul>

<p>That is to say that you can only retrieve transactions for users of your
MyRewards Programme.</p>

<p>The remote_transaction_id is documented in the POST endpoint for creating
transactions, this value is optional, therefore can be <code>null</code></p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/users/{user_id}/transactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"transactions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"balance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transaction_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"programme points"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_id_here"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"date_time"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='core-transactions-get-all-transactions-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/users/{user_id}/transactions</code></p>
<h4 id='core-transactions-get-all-transactions-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>id of this transaction</td>
</tr>
<tr>
<td>user_id</td>
<td><code>integer</code></td>
<td>user id of the user this transaction belongs</td>
</tr>
<tr>
<td>description</td>
<td><code>string</code></td>
<td>transaction description</td>
</tr>
<tr>
<td>value</td>
<td><code>integer</code></td>
<td>can be positive or negative. value of points on the transaction. Credit to the balance will be shown as a positive integer and debits will be negative</td>
</tr>
<tr>
<td>balance</td>
<td><code>integer</code></td>
<td>users running balance, at the time of the transaction</td>
</tr>
<tr>
<td>transaction_type</td>
<td><code>string</code></td>
<td>indicates the event which caused the transaction</td>
</tr>
<tr>
<td>remote_transaction_id</td>
<td><code>integer</code></td>
<td>optional - indicates a remote systems unique identifier for this transaction</td>
</tr>
<tr>
<td>created_at</td>
<td><code>string</code></td>
<td></td>
</tr>
</tbody></table>
<h3 id='core-transactions-get-last-transaction'>Get last Transaction</h3>
<p>This endpoint is designed to show the latest transaction for the given user in
json format. You can use this endpoint to find the user&#39;s current balance.</p>

<p>Please remember that if a user transaction is performed on the MyRewards 2.0
platform since a request is made over the api  this balance will be out of date.</p>

<p>On the server side a check will be made that the user_id you are requesting is</p>

<ul>
<li>a valid user</li>
<li>it is a user for the programme that your api key is scoped to.</li>
</ul>

<p>That is to say that you can only retrieve the last transaction for users of your
MyRewards Programme.</p>

<p>The remote_transaction_id is documented in the POST endpoint for creating
transactions, this value is optional, therefore can be <code>null</code></p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/users/{user_id}/transactions/last</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"user_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"transactions"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"balance"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"transaction_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"programme points"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_id_here"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"date_time"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='core-transactions-get-last-transaction-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/users/{user_id}/transactions/last</code></p>
<h4 id='core-transactions-get-last-transaction-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>id of this transaction</td>
</tr>
<tr>
<td>user_id</td>
<td><code>integer</code></td>
<td>user id of the user this transaction belongs</td>
</tr>
<tr>
<td>description</td>
<td><code>string</code></td>
<td>transaction description</td>
</tr>
<tr>
<td>value</td>
<td><code>integer</code></td>
<td>can be positive or negative. value of points on the transaction</td>
</tr>
<tr>
<td>balance</td>
<td><code>integer</code></td>
<td>users running balance, at the time of the transaction</td>
</tr>
<tr>
<td>transaction_type</td>
<td><code>string</code></td>
<td>indicates the event which caused the transaction</td>
</tr>
<tr>
<td>remote_transaction_id</td>
<td><code>integer</code></td>
<td>optional - indicates a remote systems unique identifier for this transaction</td>
</tr>
<tr>
<td>created_at</td>
<td><code>string</code></td>
<td>datetime indicating when this points transaction was created</td>
</tr>
</tbody></table>
<h3 id='core-transactions-create-a-transaction'>Create a Transaction</h3>
<p><strong>Note this is &#39;v1&#39; endpoint.</strong> This endpoint is for either crediting or debiting points for a user.
This endpoint will respond with the MyRewards transaction id.
Points transactions have a type of either &#39;Credit&#39; or &#39;Debit&#39;.
A points transaction will also have a variety which will be one of:</p>

<table><thead>
<tr>
<th>Variety</th>
<th>Programme Points affecting?</th>
<th>Permitted Type</th>
</tr>
</thead><tbody>
<tr>
<td>Programme points</td>
<td>Yes</td>
<td>Credit only</td>
</tr>
<tr>
<td>Points Error</td>
<td>Yes</td>
<td>Debit only</td>
</tr>
<tr>
<td>Person2Person transfer</td>
<td>Yes</td>
<td>Credit or debit (credit and debit must both be carried out for each user)</td>
</tr>
<tr>
<td>Adjustment</td>
<td>Yes</td>
<td>Credit or Debit</td>
</tr>
<tr>
<td>Account Closure</td>
<td>Programme config dependant</td>
<td>Debit only</td>
</tr>
</tbody></table>

<p>Example below shows a transaction that will credit 100 points to a user debited from the programme balance. On the user&#39;s points statement a reason of &#39;Employee of the month&#39; will be shown.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v1/users/{user_id}/transactions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"transaction_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"variety"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Programme points"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Employee of the month"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remote_transaction_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YOUR_REMOTE_TRANSACTION_ID"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='core-transactions-create-a-transaction-http-request'>HTTP Request</h4>
<p><code>POST /api/v1/users/{user_id}/transactions</code></p>
<h4 id='core-transactions-create-a-transaction-parameters'>Parameters</h4>
<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>transaction_type</td>
<td><code>string</code></td>
<td>one of &#39;Credit&#39; or &#39;Debit&#39;</td>
</tr>
<tr>
<td>variety</td>
<td><code>string</code></td>
<td>Required - see above table and ensure validity with transaction_type</td>
</tr>
<tr>
<td>points</td>
<td><code>integer</code></td>
<td>Required - always greater than 0</td>
</tr>
<tr>
<td>reason</td>
<td><code>string</code></td>
<td>Required - free text up to 250 characters to describe transaction - appears on user points statement</td>
</tr>
<tr>
<td>remote_transaction_id</td>
<td><code>string</code></td>
<td>Optional - a value that can be used to identify this transaction by the client <em>Caution - there is no validation or constraints for data supplied under this key/field. This is left to the client system to enforce</em></td>
</tr>
</tbody></table>
<h4 id='core-transactions-create-a-transaction-error-responses'>Error responses</h4>
<p>Anything other than a 200 will mean that the transaction has failed to go through. It may or may not be appropriate to show only a generic message to indicate failure depending on the use case or level of automation. In either case it is recommended to log the error code and any body/message</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>204</td>
<td>No Content -- User not found</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>402</td>
<td>Forbidden -- User does not have enough points</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- Invalid Transaction</td>
</tr>
<tr>
<td>412</td>
<td>Pre condition failed -- Programme does not have enough points and/or you have provided an invalid transaction type and variety combination.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>
<h2 id='core-user-groups'>User Groups</h2><h3 id='core-user-groups-get-all-user-groups'>Get all User Groups</h3>
<p>A simple endpoint to fetch a list of user groups used for this programme. Only
accessible if the key has been granted access to users. Returns an array of
user_groups as a flat list, each user group will indicate it&#39;s parent id
enabling the client end of the API to re-construct the user group hierarchy. This
would be required if a registration_question is linked to a tier of user_groups
with a tier being a vertical &#39;slice&#39; down the hierarchy</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/user_groups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Description"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full-Time"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Description"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Part-Time"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Another Example Description"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='core-user-groups-get-all-user-groups-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/user_groups</code></p>
<h4 id='core-user-groups-get-all-user-groups-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>user_group id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>user_group name</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>user_group description</td>
</tr>
<tr>
<td>parent_id</td>
<td>integer</td>
<td>parent user_group id</td>
</tr>
<tr>
<td>default</td>
<td>boolean</td>
<td>indicates if this user_group is the default group for the programme</td>
</tr>
<tr>
<td>position</td>
<td>integer</td>
<td>position under the parent user_group, used for ordering</td>
</tr>
</tbody></table>
<h3 id='core-user-groups-get-a-user-group'>Get a User Group</h3>
<p>This endpoint returns a specific user group associated to an api keys programme.</p>
<h4 id='core-user-groups-get-a-user-group-path-parameters'>Path Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_group_id</td>
<td><code>integer</code></td>
<td>The ID of the user group you want to return</td>
</tr>
</tbody></table>
<h4 id='core-user-groups-get-a-user-group-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/user_groups/{user_group_id}</code></p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/user_groups/{user_group_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Part-Time"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Another Example Description"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='core-user-groups-create-user-groups'>Create User Groups</h3>
<p>An endpoint to create a user group for this programme. Only accessible if the key
has been granted access to users. In order to create a usergroup a name is required.
This usergroup can be nested underneath another user group by passing the parent
user group id. Images can be uploaded to the user group by passing a publicly accessible image url. If
no position is passed then it will default to the bottom of the hierachy.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/user_groups</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>

{
    "name": "Contractors",
    "description": "Another Example Description",
    "parent_id": 1,
    "position": 4,
    "image_url": "http://example_website.com/image.png"
}
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Contractors"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Another Example Description"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"programme"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Programme"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example_website.com/image.png"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id='core-user-groups-create-user-groups-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/user_groups</code></p>
<h4 id='core-user-groups-create-user-groups-parameters'>Parameters</h4>
<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>Required - name of the user_group to be created</td>
</tr>
<tr>
<td>description</td>
<td><code>string</code></td>
<td>description of the user_group, which is visible in the admin area only</td>
</tr>
<tr>
<td>position</td>
<td><code>integer</code></td>
<td>position of the user_group in the hierachy</td>
</tr>
<tr>
<td>parent_id</td>
<td><code>integer</code></td>
<td>an optional id field, used if this user group should be nested underneath another</td>
</tr>
<tr>
<td>image_url</td>
<td><code>string</code></td>
<td>a url of user group image</td>
</tr>
</tbody></table>
<h3 id='core-user-groups-update-a-user-group'>Update a User Group</h3>
<p>This endpoint updates a specific user_group associated to an api keys programme. Please note that attempting to change a <code>user_group</code>&#39;s <code>default</code>, will
result in an error.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v2/user_groups/{user_group_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sub-Contractors"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sub-Contractors"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Another Example Description"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"programme"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo Programme"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example_website.com/image.png"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='core-user-groups-update-a-user-group-http-request'>HTTP Request</h4>
<p><code>PUT /api/v2/user_groups/{user_group_id}</code></p>
<h4 id='core-user-groups-update-a-user-group-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>Name of the user_group</td>
</tr>
<tr>
<td>description</td>
<td><code>string</code></td>
<td>description of the user_group, which is visible in the admin area only</td>
</tr>
<tr>
<td>position</td>
<td><code>integer</code></td>
<td>Position of the user_group in the hierachy</td>
</tr>
<tr>
<td>parent_id</td>
<td><code>integer</code></td>
<td>ID of a user_group that this user_group should be nested underneath. Providing an invalid ID will result in an error.</td>
</tr>
<tr>
<td>image_url</td>
<td><code>string</code></td>
<td>A url of the user_group image</td>
</tr>
</tbody></table>
<h3 id='core-user-groups-delete-a-user-group'>Delete a User Group</h3>
<p>This endpoint deletes a specific user group associated to an api keys programme. You can only delete user groups that have no associated users or user groups, and are not the default user group. Any attempt to do so will result in an error.</p>
<h4 id='core-user-groups-delete-a-user-group-path-parameters'>Path Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_group_id</td>
<td><code>integer</code></td>
<td>The ID of the user group you want to delete</td>
</tr>
</tbody></table>
<h4 id='core-user-groups-delete-a-user-group-http-request'>HTTP Request</h4>
<p><code>DELETE /api/v2/user_groups/{user_group_id}</code></p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/v2/user_groups/{user_group_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="s">No content</span>
</code></pre></div><h2 id='core-user-group-gt-permissions'>User Group &gt; Permissions</h2><h3 id='core-user-group-gt-permissions-get-usergroup-permissions'>GET UserGroup permissions</h3>
<p>An endpoint to fetch a list of permissions for a given user_group. Returns
an array of permissions with each permission displaying its parent permission
group name. This is to help identify different permissions when names are
the same across separate groups. It will also display whether the permission is
active for a given user_group.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/user_groups/{user_group_id}/permissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"permissions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable log in"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permission_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w">  </span><span class="s2">"General"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Order Rewards"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permission_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w">  </span><span class="s2">"Rewards module"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='core-user-group-gt-permissions-get-usergroup-permissions-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/user_groups/{user_group_id}/permissions</code></p>
<h4 id='core-user-group-gt-permissions-get-usergroup-permissions-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Required permission id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Required permission name</td>
</tr>
<tr>
<td>permission_group_name</td>
<td>string</td>
<td>Required parent permission group name</td>
</tr>
<tr>
<td>active</td>
<td>string</td>
<td>Required indicates if this permission is active for this user_group</td>
</tr>
</tbody></table>
<h3 id='core-user-group-gt-permissions-update-a-user-group-39-s-permission-set'>Update a User Group&#39;s Permission set</h3>
<p>An endpoint to update the permissions associated with a give user_group. After querying
for the list of permissions associated with a given user_group, you can add or remove
a permission by simply changing the value associated with the <code>active</code> key from true
to false or vice-versa. You will be returned the updated list of permissions relative
to the given user_group</p>

<p>N.B. If updating a permission where the permission_group is not active the
change will be ignored</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/api/v2/user_groups/{user_group_id}/permissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>

{
  "permissions" : [
    {
      "id" : 1,
      "name" : "Enable log in",
      "permission_group_name" :  "General",
      "active" : false
    },
    {
      "id" : 2,
      "name" : "Order Rewards",
      "permission_group_name" :  "Rewards module",
      "active" : false
    }
  ]
}
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"permissions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable log in"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permission_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w">  </span><span class="s2">"General"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Order Rewards"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permission_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w">  </span><span class="s2">"Rewards module"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='core-user-group-gt-permissions-update-a-user-group-39-s-permission-set-http-request'>HTTP Request</h4>
<p><code>PATCH /api/v2/user_groups/{user_group_id}/permissions</code></p>
<h4 id='core-user-group-gt-permissions-update-a-user-group-39-s-permission-set-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>permission id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>permission name</td>
</tr>
<tr>
<td>permission_group_name</td>
<td>string</td>
<td>parent permission group name</td>
</tr>
<tr>
<td>active</td>
<td>string</td>
<td>indicates if this permission is active for this user_group</td>
</tr>
</tbody></table>
<h2 id='core-users'>Users</h2>
<p>In order to identify users, a programme will expect to use either username, email or mobile as a unique key to authenticate users with. As a consumer of this service, it is mandatory to supply a value for this field. Furthermore, there will be other fields that have been declared mandatory for your programme and user creation (POST) could fail if these values are not populated or provided.</p>

<p>Reasons include:</p>

<ul>
<li>The field is an identifier (email, username)</li>
<li>The field is hidden from users so they cannot update this when additional details are requested</li>
<li>Your programme is not set to require additional details from users, therefore all mandatory fields must be supplied upon creation</li>
</ul>
<h3 id='core-users-create-a-user'>Create a User</h3>
<blockquote>
<p>Request: </p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v3/users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Org Inc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"job_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No 1 The Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Street"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"town"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Town"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The County"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TH3 P057"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chosen_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tsandcs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketing_consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working From Home"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Friday"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response: </p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CREATED</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Org Inc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"job_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No 1 The Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Street"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"town"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Town"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The County"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TH3 P057"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chosen_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tsandcs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketing_consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Workplace"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"stack_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Workplace"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working From Home"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Work Days"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"stack_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Work Days"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Friday"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>In order to create a user account on the MyRewards 2.0 platform there is often
some information about the user we are creating that needs to be known before
the account can be successfully created.</p>
<h4 id='core-users-create-a-user-user-group'>User group</h4>
<p>The user group that the user will be created as a member of must be
known, we provide an endpoint to query the usergroups for your programme and if
necessary to reconstruct the hierarchy for the usergroups see the usergroups
section.</p>
<h4 id='core-users-create-a-user-phone-numbers'>Phone numbers</h4>
<p>Telephone and mobile number fields must be supplied in international format, meaning starting with a &#39;+&#39; followed by the international country code (I.e. the UK is 44) followed by at least 8 numeric characters.</p>
<h4 id='core-users-create-a-user-registration-questions'>Registration questions</h4>
<p>User accounts can have extra data required over and above the
minimal default fields for a user account. Typically, these take the form of
employee data, membership number etc and can be defined as part of your
programme. These extra data are called registration_questions, for more
information please see the registration_questions section.</p>

<p>Answers to the registration questions are provided in an array of objects, nested
under the key <code>registration_answers_attributes</code>. The nested objects themselves must
have the keys <code>registration_question_id</code> and <code>answer</code>. If the question allows multiple
answers, then the value for <code>answer</code> should be an array, as show in the example below.</p>
<h4 id='core-users-create-a-user-chosen-locale'>Chosen Locale</h4>
<p>When creating or updating a user, if the associated programme has locale marked as mandatory, <code>chosen_locale</code> must be provided. Failure to do so will result in an error. When locale is not mandatory and a <code>chosen_locale</code> value is not provided, the value will be set to the programme default locale.</p>
<h4 id='core-users-create-a-user-company'>Company</h4>
<p>When providing a user&#39;s company, the value must match what is expected by the programme, 
i.e. if the company is a free-text field, then a <code>string</code> should be provided. If, however, the
programme is using a managed list of companies, the value must be an object containing the
<code>name</code> and <code>identifier</code> strings. </p>
<h5 id='core-users-create-a-user-company-example-1-company-as-a-free-text-field'>Example 1: Company as a free-text field:</h5>
<p><code>&quot;company&quot;: &quot;Luther Corp&quot;</code> </p>
<h5 id='core-users-create-a-user-company-example-2-company-as-a-manage-list'>Example 2: Company as a manage list:</h5>
<p><code>&quot;company&quot;: { &quot;name&quot;: &quot;Org Inc&quot;, &quot;identifier&quot;: &quot;org-inc-01&quot; }</code></p>

<p>If the company can not be found, it will be created. Existing companies will have their <code>name</code> 
updated if different.</p>

<p>The response from the API will also differ depending whether the company is free-text or a 
managed list and will mirror the format sent in the request. The &quot;Update a user&quot; below shows
an example of the response when the company is a managed list.</p>

<p>To unset company, pass <code>null</code> as shown below:</p>

<p><code>&quot;company&quot;: null</code></p>
<h4 id='core-users-create-a-user-http-request'>HTTP Request</h4>
<p><code>POST /api/v3/users</code></p>
<h4 id='core-users-create-a-user-parameters'>Parameters</h4>
<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td><code>string</code></td>
<td>may be required, see user identification above, must be unique to the programme if required</td>
</tr>
<tr>
<td>email</td>
<td><code>string</code></td>
<td>valid email address and may be required, see user identification above, must be unique to the programme if required</td>
</tr>
<tr>
<td>title</td>
<td><code>string</code></td>
<td>salutation (Mr, Mrs, Ms, etc) no strict validation.</td>
</tr>
<tr>
<td>firstname</td>
<td><code>string</code></td>
<td>Required</td>
</tr>
<tr>
<td>lastname</td>
<td><code>string</code></td>
<td>Required</td>
</tr>
<tr>
<td>company</td>
<td><code>mixed</code></td>
<td>Potentially required - see programme data requirements. Should be a <code>string</code> or an <code>object</code> - see &quot;Company&quot; section above.</td>
</tr>
<tr>
<td>job_title</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>address_1</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>address_2</td>
<td><code>string</code></td>
<td>optional</td>
</tr>
<tr>
<td>town</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>postcode</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>county</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>country</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>date_of_birth</td>
<td><code>date</code></td>
<td>must be provided in reverse date format <code>YYYY-MM-DD</code>, Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>telephone</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements - if supplied must be international format (starting with a &#39;+&#39; followed by international dialling code - UK is 44 - followed by at least 8 numeric characters)</td>
</tr>
<tr>
<td>mobile</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements, if required, must be unique - if supplied must be international format (starting with a &#39;+&#39; followed by international dialling code - UK is 44 - followed by at least 8 numeric characters)</td>
</tr>
<tr>
<td>chosen_locale</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements.</td>
</tr>
<tr>
<td>tsandcs</td>
<td><code>boolean</code></td>
<td>Required</td>
</tr>
<tr>
<td>user_group_id</td>
<td><code>integer</code></td>
<td>optional, will default to programme&#39;s default user_group, if not provided</td>
</tr>
<tr>
<td>registration_answers_attributes</td>
<td><code>array</code></td>
<td>array of hashes that contain a registration_question_id and an answer. Some or all of the registration questions may require answers. See registration_questions endpoint documentation</td>
</tr>
<tr>
<td>consented</td>
<td><code>boolean</code></td>
<td>Not required if programme access type is pre_registration with additional details, or SSO or if the programme doesn&#39;t have an active privacy policy.</td>
</tr>
<tr>
<td>marketing_consented</td>
<td><code>boolean</code></td>
<td>Can be true or false, not required if programme access type is pre_registration with additional details, or SSO or if the programme doesn&#39;t have an active privacy policy.</td>
</tr>
</tbody></table>
<h3 id='core-users-get-a-user'>Get a User</h3>
<p>This endpoint returns a specific user associated with an api key&#39;s programme. You have the option to specify either the user&#39;s unique MyRewards ID, email address, or the username.</p>
<h4 id='core-users-get-a-user-path-parameters'>Path Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>The unique MyRewards ID of the user to return</td>
</tr>
<tr>
<td>email</td>
<td><code>string</code></td>
<td>The email address of the user to return</td>
</tr>
<tr>
<td>username</td>
<td><code>string</code></td>
<td>The username of the user to return</td>
</tr>
</tbody></table>
<h4 id='core-users-get-a-user-http-request'>HTTP Request</h4>
<p>variations of the request that are supported:</p>

<ul>
<li><code>GET /api/v3/users/{id}</code></li>
<li><code>GET /api/v3/users/email/{email}</code></li>
<li><code>GET /api/v3/users/username/{username}</code></li>
</ul>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v3/users/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Org Inc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"job_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No 1 The Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Street"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"town"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Town"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The County"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TH3 P057"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chosen_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tsandcs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketing_consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Workplace"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"stack_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Workplace"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working From Home"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Work Days"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"stack_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Work Days"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Friday"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='core-users-update-a-user'>Update a User</h3>
<blockquote>
<p>Request: </p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v3/users/{user_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Office"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Tuesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Thursday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Friday"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response: </p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Org Inc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"job_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No 1 The Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Street"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"town"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Town"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The County"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TH3 P057"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chosen_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tsandcs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketing_consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Workplace"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"stack_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Workplace"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Office"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Work Days"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"stack_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Work Days"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Tuesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Thursday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Friday"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The update user api is available to update user information. This uses the same
params as the create user api above.</p>
<h4 id='core-users-update-a-user-http-request'>HTTP Request</h4>
<p><code>PUT /api/v3/users/{user_id}</code></p>

<p><code>PATCH /api/v3/users/{user_id}</code></p>
<h2 id='core-user-gt-permissions'>User &gt; Permissions</h2><h3 id='core-user-gt-permissions-get-user-permissions'>GET User permissions</h3>
<p>An endpoint to fetch a list of permissions for a given user. Returns an array of permissions displaying it&#39;s parent
permissions group name. This is to help identify different permissions when names are the same across separate groups.
It will also display whether the permission is active for the given user and the state of the permission which can
be <code>Same As User Group</code> or if the permission has been overridden for that user: <code>Always Allow</code> or <code>Always Deny</code>.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/users/{user_id}/permissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"permissions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable log in"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permission_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w">  </span><span class="s2">"General"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Same As User Group"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Order Rewards"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permission_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w">  </span><span class="s2">"Rewards module"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Always Allow"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='core-user-gt-permissions-get-user-permissions-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/users/{user_id}/permissions</code></p>
<h4 id='core-user-gt-permissions-get-user-permissions-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Required permission id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Required permission name</td>
</tr>
<tr>
<td>permission_group_name</td>
<td>string</td>
<td>Required parent permission group name</td>
</tr>
<tr>
<td>active</td>
<td>string</td>
<td>Required indicates if this permission is active for this user</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>Required indicates whether the permission is granted or denied specifically for this user or if it is the same as the user_group</td>
</tr>
</tbody></table>
<h3 id='core-user-gt-permissions-post-user-permissions'>POST User permissions</h3>
<p>A endpoint to update a list of permissions for a given user. Returns an array of permissions displaying it&#39;s parent
permissions group name. This is to help identify different permissions when names are the same across separate groups.
It will also display whether the permission is active for the given user and the state of the permission which can
be <code>Same As User Group</code> or if the permission has been overridden for that user: <code>Always Allow</code> or <code>Always Deny</code>.</p>

<p>The only value that this request will change is the <code>active</code> field. The other fields are present
to make it easier to move from the <code>GET</code> request to a <code>POST</code> without having to reformat
or delete much of the <code>GET</code> request response.</p>

<p>N.B. When specifying active = true this will set the permission to &quot;Always allow&quot;
setting to false will have the effect of &quot;Always deny&quot;</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/api/v2/users/{user_id}/permissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>

{
  "permissions" : [
    {
      "id" : 1,
      "name" : "Enable log in",
      "permission_group_name" :  "General",
      "active" : true
    },
    {
      "id" : 2,
      "name" : "Order Rewards",
      "permission_group_name" :  "Rewards module",
      "active" : false
    }
  ]
}
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"permissions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Enable log in"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permission_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w">  </span><span class="s2">"General"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Order Rewards"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permission_group_name"</span><span class="w"> </span><span class="p">:</span><span class="w">  </span><span class="s2">"Rewards module"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='core-user-gt-permissions-post-user-permissions-http-request'>HTTP Request</h4>
<p><code>PATCH /api/v2/users/{user_id}/permissions</code></p>
<h4 id='core-user-gt-permissions-post-user-permissions-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Required permission id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Required permission name</td>
</tr>
<tr>
<td>permission_group_name</td>
<td>string</td>
<td>Required parent permission group name</td>
</tr>
<tr>
<td>active</td>
<td>string</td>
<td>Required indicates if this permission is active for this user</td>
</tr>
</tbody></table>
<h2 id='core-companies'>Companies</h2><h3 id='core-companies-get-all-companies'>Get all companies</h3>
<p>This endpoint returns all companies associated to an api keys programme. Results are paginated and return 100 records per page and can be paged through by passing a page query parameter. If no page parameter is passed, then page 1 with the first 100 records will be returned.</p>
<h4 id='core-companies-get-all-companies-http-request'>HTTP Request</h4>
<p><code>GET /api/v3/companies</code></p>
<h4 id='core-companies-get-all-companies-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>integer</td>
<td>The page number that you wish to view</td>
</tr>
</tbody></table>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v3/companies?page=1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1423</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Company A"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"identifier"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"company-a-identifier"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"disabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"earning_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"individual"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-18T02:20:02.000+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-19T03:20:09.000+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1477</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Company B"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"identifier"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"company-b-identifier"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"disabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"earning_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-18T02:20:06.000+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-20T13:42:17.000+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id='core-companies-get-a-specific-company'>Get a specific company</h3>
<p>This endpoint returns a specific company associated to an api keys programme.</p>
<h4 id='core-companies-get-a-specific-company-path-parameters'>Path Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>company_identifier</td>
<td>string</td>
<td>The identifier of the company you want to return</td>
</tr>
</tbody></table>
<h4 id='core-companies-get-a-specific-company-http-request'>HTTP Request</h4>
<p><code>GET /api/v3/companies/{company_identifier}</code></p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v3/companies/company-b-identifier</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1477</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Company B"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"identifier"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"company-b-identifier"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"disabled"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"earning_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-18T02:20:06.000+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-20T13:42:17.000+00:00"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='core-companies-create-a-company'>Create a company</h3>
<p>This endpoint creates a new company associated to an api keys programme.</p>
<h4 id='core-companies-create-a-company-http-request'>HTTP Request</h4>
<p><code>POST /api/v3/companies</code></p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v3/companies</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Company name"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company-identifier"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"earning_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Company name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company-identifier"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"earning_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-18T02:20:06.000+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-18T02:20:06.000+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='core-companies-create-a-company-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>Mandatory. The name of the company.</td>
</tr>
<tr>
<td>identifier</td>
<td><code>string</code></td>
<td>Mandatory. The unique identifier for the company.</td>
</tr>
<tr>
<td>disabled</td>
<td><code>string</code></td>
<td>Mandatory. The disabled status of the company. One of &#39;Y&#39; for disabled or &#39;N&#39; for not disabled.</td>
</tr>
<tr>
<td>earning_type</td>
<td><code>string</code></td>
<td>Optional. The earning type of the company. Must be one of &#39;individual&#39; or &#39;company&#39;. If not provided, company will be set with the &#39;individual&#39; earning type.</td>
</tr>
</tbody></table>
<h3 id='core-companies-update-a-company'>Update a company</h3>
<p>This endpoint updates an existing company associated to an api keys programme.</p>
<h4 id='core-companies-update-a-company-http-request'>HTTP Request</h4>
<p><code>PATCH /api/v3/companies/{company_id}</code></p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/api/v3/companies/{company_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New company name"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new-company-identifier"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"earning_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"individual"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New company name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new-company-identifier"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"earning_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"individual"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-18T02:20:06.000+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-20T13:42:17.000+00:00"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='core-companies-update-a-company-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>The name of the company.</td>
</tr>
<tr>
<td>identifier</td>
<td><code>string</code></td>
<td>The unique identifier for the company.</td>
</tr>
<tr>
<td>disabled</td>
<td><code>string</code></td>
<td>The disabled status of the company. One of &#39;Y&#39; for disabled or &#39;N&#39; for not disabled.</td>
</tr>
<tr>
<td>earning_type</td>
<td><code>string</code></td>
<td>The earning type of the company. Must be one of &#39;individual&#39; or &#39;company&#39;.</td>
</tr>
</tbody></table>
<h3 id='core-companies-delete-a-company'>Delete a company</h3>
<p>This endpoint deletes an existing company associated to an api keys programme. You can only delete companies that have no associated users, and any attempt to do so will return an error.</p>
<h4 id='core-companies-delete-a-company-http-request'>HTTP Request</h4>
<p><code>DELETE /api/v3/companies/{company_id}</code></p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/v3/companies/{company_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>
</code></pre></div><h4 id='core-companies-delete-a-company-url-parameters'>URL Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>company_id</td>
<td>The ID of the company to delete</td>
</tr>
</tbody></table>
<h1 id='extra-features'>Extra Features</h1><h2 id='extra-features-data-widgets'>Data Widgets</h2>
<p>A Data Widget is used to show user specific information or data uploaded into
the data widgets area. </p>
<h3 id='extra-features-data-widgets-get-all-data-widgets'>Get all Data Widgets</h3>
<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/data_widgets</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4567</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some other text"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves all data_widgets that belong to a programme (scoped by api key)</p>
<h4 id='extra-features-data-widgets-get-all-data-widgets-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/data_widgets</code></p>
<h3 id='extra-features-data-widgets-get-a-data-widget-belonging-to-a-user'>Get a Data Widget belonging to a User</h3>
<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/users/{user_id}/data_widgets/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Data widget name"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_data_widget"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"this is some text"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns the specific data_widget &amp; user_data_widget data for the user specified { user_id } and the
{ id } specified.</p>
<h4 id='extra-features-data-widgets-get-a-data-widget-belonging-to-a-user-http-request'>HTTP Request</h4>
<p><code>GET api/v2/users/{user_id}/data_widgets/{id}</code></p>
<h4 id='extra-features-data-widgets-get-a-data-widget-belonging-to-a-user-parameters'>Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>The ID of the user you want to retrieve data for</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>The ID of the data_widget to retrieve</td>
</tr>
</tbody></table>
<h3 id='extra-features-data-widgets-update-a-data-widget-belonging-to-a-user'>Update a Data Widget belonging to a User</h3>
<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v2/users/{user_id}/data_widgets/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Body: </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"this is some new text"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Data widget name"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_data_widget"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"this is some new text"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Update the data of the specific user_data_widget for the user specified { user_id } 
and the { id } specified.</p>
<h4 id='extra-features-data-widgets-update-a-data-widget-belonging-to-a-user-http-request'>HTTP Request</h4>
<p><code>PUT api/v2/users/{user_id}/data_widgets/{id}</code></p>
<h4 id='extra-features-data-widgets-update-a-data-widget-belonging-to-a-user-parameters'>Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>The ID of the user you want to update data for</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>The ID of the data_widget to retrieve</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td>Your desired data string</td>
</tr>
</tbody></table>
<h2 id='extra-features-target-trackers'>Target Trackers</h2>
<p>A target tracker is used to display a target value to a user and their achievement against that target.</p>
<h3 id='extra-features-target-trackers-get-all-target-trackers'>Get All Target Trackers</h3>
<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/target_trackers</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"points"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4567</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some other text"</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves all target_trackers that belong to a programme (scoped by api key)</p>
<h4 id='extra-features-target-trackers-get-all-target-trackers-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/target_trackers</code></p>
<h3 id='extra-features-target-trackers-get-a-target-tracker-39-s-values-belonging-to-a-user'>Get a Target Tracker&#39;s values belonging to a User</h3>
<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/users/{user_id}/target_trackers/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"target_tracker_users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2000.00</span><span class="p">,</span><span class="w">
    </span><span class="nl">"current_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000.00</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns the specific target_tracker &amp; target_tracker_user data for the { user_id } and
{ id } specified.</p>
<h4 id='extra-features-target-trackers-get-a-target-tracker-39-s-values-belonging-to-a-user-http-request'>HTTP Request</h4>
<p><code>GET api/v2/users/{user_id}/target_trackers/{id}</code></p>
<h4 id='extra-features-target-trackers-get-a-target-tracker-39-s-values-belonging-to-a-user-parameters'>Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>The ID of the user you want to retrieve target_tracker data for</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>The ID of the target_tracker to retrieve</td>
</tr>
</tbody></table>
<h3 id='extra-features-target-trackers-update-a-target-tracker-belonging-to-a-user'>Update a Target Tracker belonging to a User</h3>
<blockquote>
<p>Header: </p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v2/users/{user_id}/target_trackers/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Body: </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"target_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2000.00</span><span class="p">,</span><span class="w">
  </span><span class="nl">"current_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000.00</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"target_tracker_users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2000.00</span><span class="p">,</span><span class="w">
    </span><span class="nl">"current_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000.00</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Update the attributes of the specific target_tracker_user for the specified { user_id } 
and the { id }.</p>
<h4 id='extra-features-target-trackers-update-a-target-tracker-belonging-to-a-user-http-request'>HTTP Request</h4>
<p><code>PUT api/v2/users/{user_id}/target_trackers/{id}</code></p>
<h4 id='extra-features-target-trackers-update-a-target-tracker-belonging-to-a-user-parameters'>Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>The ID of the user you want to update target_tracker_user data for</td>
</tr>
<tr>
<td>id</td>
<td>integer</td>
<td>The ID of the target_tracker to retrieve</td>
</tr>
<tr>
<td>target_value</td>
<td>float</td>
<td>Your desired target_value</td>
</tr>
<tr>
<td>current_value</td>
<td>float</td>
<td>Your desired current_value</td>
</tr>
</tbody></table>
<h2 id='extra-features-badges'>Badges</h2><h3 id='extra-features-badges-get-user-badges'>GET User Badges</h3>
<p>An endpoint to fetch a list of badges for a given user.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/users/{user_id}/badges</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"badge_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Log In"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"badge_collection_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apprentice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"badge_won"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"awarded_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T16:41:30.000+01:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T16:42:13.000+01:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"badge_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E-Learning Test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"badge_collection_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apprentice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"badge_won"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"awarded_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T16:34:34.000+01:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T17:15:10.000+01:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='extra-features-badges-get-user-badges-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/users/{user_id}/badges</code></p>
<h4 id='extra-features-badges-get-user-badges-request-parameters'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>integer</td>
<td>The ID of the user</td>
</tr>
</tbody></table>
<h3 id='extra-features-badges-put-user-badge'>PUT User Badge</h3>
<p>A endpoint to update a badge for a given user.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v2/users/{user_id}/badges/{badge_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"badge_won"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
    </span><span class="nl">"badge_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E-Learning Test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"badge_collection_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apprentice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"badge_won"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"awarded_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T16:34:34.000+01:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-04T17:15:10.000+01:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='extra-features-badges-put-user-badge-http-request'>HTTP Request</h4>
<p><code>PUT /api/v2/users/{user_id}/badges/{badge_id}</code></p>
<h4 id='extra-features-badges-put-user-badge-url-parameters'>URL Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Required badge id</td>
</tr>
<tr>
<td>user_id</td>
<td>integer</td>
<td>The ID of the user</td>
</tr>
</tbody></table>
<h4 id='extra-features-badges-put-user-badge-body-parameters'>Body Parameters</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>badge_won</td>
<td>string</td>
<td>Required badge won status</td>
</tr>
</tbody></table>
<h1 id='performance-module'>Performance Module</h1><h2 id='performance-module-allocated-claims'>Allocated Claims</h2><h3 id='performance-module-allocated-claims-view-allocated-claims'>View Allocated Claims</h3>
<p>Endpoint to view allocated claims against a specific promotion. Claims can be scoped down via passed in parameters. Only 100 records are returned at a time.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/allocated_claims</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at_start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/01/2020"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at_end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/02/2020"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"date_of_sale_start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/01/2020"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"date_of_sale_end_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/02/2020"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">Ok</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"allocated_claims"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/02/2018"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAA1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Company C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company799988"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/02/2018"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"some_custom_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some custom answer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/02/2018"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAA1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Company C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company799988"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/02/2018"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"some_custom_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"another custom answer"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='performance-module-allocated-claims-view-allocated-claims-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/performance/promotions/{promotion_id}/allocated_claims</code></p>
<h4 id='performance-module-allocated-claims-view-allocated-claims-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>promotion_id</td>
<td><code>integer</code></td>
<td>The ID of the promotion claim is for. Mandatory.</td>
</tr>
<tr>
<td>user_group_id</td>
<td><code>integer</code></td>
<td>ID of a user_group that allocated_claims belong to, used for scoping down results. Optional</td>
</tr>
<tr>
<td>company_id</td>
<td><code>integer</code></td>
<td>ID of a company that allocated_claims belong to, used for scoping down results. Optional</td>
</tr>
<tr>
<td>status</td>
<td><code>string</code></td>
<td>Required Status for the allocated_claims that are returned, used for scoping down results. Optional</td>
</tr>
<tr>
<td>created_at_start_date</td>
<td><code>string</code></td>
<td>A parameter for scoping allocated_claims that were created from that date onwards. Optional.</td>
</tr>
<tr>
<td>created_at_end_date</td>
<td><code>string</code></td>
<td>A parameter for scoping allocated_claims that were created before the given date. Optional.</td>
</tr>
<tr>
<td>date_of_sale_start_date</td>
<td><code>string</code></td>
<td>A parameter for scoping allocated_claims with a date_of_sale from the given date onwards. Optional.</td>
</tr>
<tr>
<td>date_of_sale_end_date</td>
<td><code>string</code></td>
<td>A parameter for scoping allocated_claims with a date_of_sale before the given date. Optional.</td>
</tr>
<tr>
<td>page</td>
<td><code>integer</code></td>
<td>The requested page number. Defaults to page 1 if not supplied. Optional.</td>
</tr>
</tbody></table>
<h3 id='performance-module-allocated-claims-decline-allocated-claims'>Decline Allocated Claims</h3>
<p>Endpoint to decline a given allocated claim.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/allocated_claims/{claim_id}/decline</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"reason_for_decline_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An id for a decline reason"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reason_for_decline_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some reason text string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div><h4 id='performance-module-allocated-claims-decline-allocated-claims-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/performance/promotions/{promotion_id}/allocated_claims/{claim_id}/decline</code></p>
<h4 id='performance-module-allocated-claims-decline-allocated-claims-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>reason_for_decline_id</td>
<td><code>string</code></td>
<td>The ID of a reason belonging to the promotion. Mandatory if decline reasons enabled on programme.</td>
</tr>
<tr>
<td>reason_for_decline_text</td>
<td><code>string</code></td>
<td>A text string for a decline reason, can only be provided if the promotion allows free text decline reasons. Optional.</td>
</tr>
</tbody></table>
<h3 id='performance-module-allocated-claims-create-allocated-claims'>Create Allocated Claims</h3>
<p>Endpoint to create allocated claims against specific promotion. Claims are created by using the <code>data_field</code> names from above as key/value pairs. Your request must include exactly one of <code>user_group_id</code> or <code>company_id</code> or <code>company_identifier</code> depending on the promotion configuration.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/allocated_claims</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"allocated_claims"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/02/2018"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAA1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company799988"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"some_custom_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some custom answer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03/12/2017"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BBB4567"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company3466563"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"some_other_custom_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some other custom answer"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"allocated_claims"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/02/2018"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAA1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Company C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company799988"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"some_custom_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some custom answer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03/12/2017"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BBB4567"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Company B"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"company_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company3466563"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"some_other_custom_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some other custom answer"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id='performance-module-allocated-claims-create-allocated-claims-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/performance/promotions/{promotion_id}/allocated_claims</code></p>
<h4 id='performance-module-allocated-claims-create-allocated-claims-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>promotion_id</td>
<td><code>integer</code></td>
<td>The ID of the promotion claim is for.</td>
</tr>
<tr>
<td>sale_date</td>
<td><code>date</code></td>
<td>The date when this piece of data was created. Mandatory.</td>
</tr>
<tr>
<td>product_or_activity_ref</td>
<td><code>string</code></td>
<td>The SKU for the performance product to claim against</td>
</tr>
<tr>
<td>quantity</td>
<td><code>integer</code></td>
<td>The quantity of products sold. Mandatory.</td>
</tr>
<tr>
<td>user_group_id</td>
<td><code>integer</code></td>
<td>ID of the user group claim relates to (exactly one of user_group_id, company_id, or company_identifier needs to be supplied)</td>
</tr>
<tr>
<td>company_id</td>
<td><code>integer</code></td>
<td>ID of the MyRewards company claim related to (exactly one of user_group_id, company_id, or company_identifier needs to be supplied)</td>
</tr>
<tr>
<td>company_identifier</td>
<td><code>string</code></td>
<td>Identifier of the MyRewards company claim related to (exactly one of user_group_id, company_id, or company_identifier needs to be supplied)</td>
</tr>
</tbody></table>

<p>You will also need to provide any custom data fields as extra keys for each piece of claim data in snake case format which is provided in the name field for the <a href="#list-all-data-fields">GET List Data Fields</a> for a Promotion.</p>

<p>Eg:</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>some_custom_field</td>
<td><code>custom field type</code></td>
<td>A custom answer for this field</td>
</tr>
</tbody></table>
<h2 id='performance-module-self-claims'>Self Claims</h2><h3 id='performance-module-self-claims-create-a-self-claim'>Create a Self Claim</h3>
<p>Endpoint to create a self claim against a specific self-claim promotion.</p>
<h4 id='performance-module-self-claims-create-a-self-claim-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/performance/promotions/{promotion_id}/self_claims</code></p>

<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/self_claims</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-29"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
  </span><span class="nl">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free text answer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdefg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choice A, Choice B"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://invoicefile/12353.doc"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-29"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
  </span><span class="nl">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question free text?"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free text answer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question date select"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-21"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question scanner"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdefg"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"4"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question list"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choice A, Choice B"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"5"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question file upload"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://invoicefile/12353.doc"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='performance-module-self-claims-create-a-self-claim-request-parameters'>Request Parameters</h4><h5 id='performance-module-self-claims-create-a-self-claim-request-parameters-body-parameters'>Body Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td><code>integer</code></td>
<td>The user ID of the user making the claim. Mandatory.</td>
</tr>
<tr>
<td>sale_date</td>
<td><code>string</code></td>
<td>The date the product was sold. Mandatory</td>
</tr>
<tr>
<td>product_or_activity_ref</td>
<td><code>string</code></td>
<td>The reference of the product or activity you wish to return claims for. Mandatory.</td>
</tr>
<tr>
<td>quantity</td>
<td><code>integer</code></td>
<td>The quantity of products sold. Mandatory.</td>
</tr>
<tr>
<td>answers</td>
<td><code>string</code></td>
<td>Expected answers depend on their question, which come in the following types: free text, list of values, date select, file upload, scanner. Please provide your answers to dynamic questions as a <code>question_id</code> to answer hash, nested under an <code>answers</code> key. If the question allows multiple answers, add a comma between each answer. Dynamic questions are sometimes mandatory (if the programme administrator has set them to be).</td>
</tr>
</tbody></table>
<h4 id='performance-module-self-claims-create-a-self-claim-response-attributes'>Response Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>the id of the claim</td>
</tr>
<tr>
<td>user_id</td>
<td><code>string</code></td>
<td>The user ID of the user making the claim.</td>
</tr>
<tr>
<td>sale_date</td>
<td><code>string</code></td>
<td>The date the product was sold.</td>
</tr>
<tr>
<td>product_or_activity_ref</td>
<td><code>string</code></td>
<td>The reference of the claimed product or activity.</td>
</tr>
<tr>
<td>quantity</td>
<td><code>integer</code></td>
<td>The quantity of products sold.</td>
</tr>
<tr>
<td>answers</td>
<td><code>object</code></td>
<td>An object containing questions identified by their id, along with a child object containing the name of the question, and the answer provided for that question.</td>
</tr>
</tbody></table>
<h3 id='performance-module-self-claims-get-self-claims'>Get Self Claims</h3>
<p>Endpoint to get self claims against a specific self-claim promotion. Claims can be filtered down via passed-in parameters. If no URL parameters are provided then all claims against the requested promotion are returned. Results are paginated at 100 records per page.</p>
<h4 id='performance-module-self-claims-get-self-claims-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/performance/promotions/{promotion_id}/self_claims</code></p>

<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/self_claims</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">Ok</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"self_claims"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4099</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-29"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
            </span><span class="nl">"points_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"declined_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-30T14:15:25.000+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-07T16:41:19.000+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"questions_answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"1174"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 1 - free text"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1175"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 2 - lov r"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1176"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 3 - lov c"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1177"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 4 - lov s"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1178"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 5 - date"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1179"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 6 - upload"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4104</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-02"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"points_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"declined_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-11T14:15:32.000+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-11T14:15:32.000+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"questions_answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"1174"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 1 - free text"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1175"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 2 - lov r"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1176"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 3 - lov c"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1177"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 4 - lov s"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1178"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 5 - date"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1179"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 6 - upload"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4117</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-23"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"points_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"declined"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"declined_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not good enough"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-23T14:15:32.000+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-28T10:41:13.000+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"questions_answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"1174"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 1 - free text"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1175"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 2 - lov r"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1176"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 3 - lov c"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1177"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 4 - lov s"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1178"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 5 - date"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"1179"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 6 - upload"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='performance-module-self-claims-get-self-claims-request-parameters'>Request Parameters</h4><h5 id='performance-module-self-claims-get-self-claims-request-parameters-url-parameters'>URL Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td><code>string</code></td>
<td>Status of the claims to be returned. Optional</td>
</tr>
<tr>
<td>product_or_activity_ref</td>
<td><code>integer</code></td>
<td>The reference of the product or activity you wish to return claims for. Optional.</td>
</tr>
<tr>
<td>user_id</td>
<td><code>integer</code></td>
<td>ID of a user that claims were made by. Optional</td>
</tr>
<tr>
<td>created_at_start_date</td>
<td><code>string</code></td>
<td>A parameter for scoping claims that were created from that date onwards. Optional.</td>
</tr>
<tr>
<td>created_at_end_date</td>
<td><code>string</code></td>
<td>A parameter for scoping claims that were created on or before the given date. Optional.</td>
</tr>
<tr>
<td>date_of_sale_start_date</td>
<td><code>string</code></td>
<td>A parameter for scoping claims with a <code>sale_date</code> from the given date onwards. Optional.</td>
</tr>
<tr>
<td>date_of_sale_end_date</td>
<td><code>string</code></td>
<td>A parameter for scoping claims with a <code>sale_date</code> on or before the given date. Optional.</td>
</tr>
<tr>
<td>page</td>
<td><code>integer</code></td>
<td>The requested page number. Defaults to page 1 if not supplied. Optional.</td>
</tr>
</tbody></table>
<h4 id='performance-module-self-claims-get-self-claims-response-attributes'>Response Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>the id of the claim</td>
</tr>
<tr>
<td>sale_date</td>
<td><code>string</code></td>
<td>the date of sale as provided on the claim</td>
</tr>
<tr>
<td>product_or_activity_ref</td>
<td><code>string</code></td>
<td>the reference of the claimed product or activity</td>
</tr>
<tr>
<td>quantity</td>
<td><code>integer</code></td>
<td>the number of items claimed</td>
</tr>
<tr>
<td>points_value</td>
<td><code>integer</code></td>
<td>the number of points the claim is worth</td>
</tr>
<tr>
<td>user_id</td>
<td><code>integer</code></td>
<td>the id of the user who made the claim</td>
</tr>
<tr>
<td>status</td>
<td><code>string</code></td>
<td>the status of the claim - one of: pending, approved, declined</td>
</tr>
<tr>
<td>declined_reason</td>
<td><code>string</code></td>
<td>optional - a string indicating the reason for decline if the claim is declined</td>
</tr>
<tr>
<td>created_at</td>
<td><code>string</code></td>
<td>the date that the claim was submitted</td>
</tr>
<tr>
<td>updated_at</td>
<td><code>string</code></td>
<td>the date that the claim was last updated</td>
</tr>
<tr>
<td>questions_answers</td>
<td><code>object</code></td>
<td>an object containing questions identified by their id, along with a child object containing the name of the question, and the answer provided for that question</td>
</tr>
</tbody></table>
<h3 id='performance-module-self-claims-update-self-claim'>Update Self Claim</h3>
<p>Endpoint to update a pending self claim against a specific self-claim promotion.</p>
<h4 id='performance-module-self-claims-update-self-claim-http-request'>HTTP Request</h4>
<p><code>PATCH /api/v2/performance/promotions/{promotion_id}/self_claims/{claim_id}</code></p>

<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/self_claims/{claim_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-29"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
  </span><span class="nl">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free text answer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-21"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdefg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choice A, Choice B"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://invoicefile/12353.doc"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
  </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-29"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
  </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
  </span><span class="nl">"answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question free text?"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free text answer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question date select"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-21"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question scanner"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcdefg"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"4"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question list"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choice A, Choice B"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"5"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dynamic question file upload"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://invoicefile/12353.doc"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='performance-module-self-claims-update-self-claim-request-parameters'>Request Parameters</h4><h5 id='performance-module-self-claims-update-self-claim-request-parameters-body-parameters'>Body Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sale_date</td>
<td><code>string</code></td>
<td>The date the product was sold. Mandatory</td>
</tr>
<tr>
<td>product_or_activity_ref</td>
<td><code>string</code></td>
<td>The reference of the product or activity you wish to return claims for. Mandatory.</td>
</tr>
<tr>
<td>quantity</td>
<td><code>integer</code></td>
<td>The quantity of products sold. Mandatory.</td>
</tr>
<tr>
<td>points</td>
<td><code>integer</code></td>
<td>Explicitly set the value of points that the claim is worth. Optional, calculated from the product/activity, quantity and sale date otherwise.</td>
</tr>
<tr>
<td>answers</td>
<td><code>string</code></td>
<td>Expected answers depend on their question, which come in the following types: free text, list of values, date select, file upload, scanner. Please provide your answers to dynamic questions as a <code>question_id</code> to answer hash, nested under an <code>answers</code> key. If the question allows multiple answers, add a comma between each answer. Dynamic questions are sometimes mandatory (if the programme administrator has set them to be).</td>
</tr>
</tbody></table>
<h4 id='performance-module-self-claims-update-self-claim-response-attributes'>Response Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>the id of the claim</td>
</tr>
<tr>
<td>user_id</td>
<td><code>string</code></td>
<td>The user ID of the user making the claim.</td>
</tr>
<tr>
<td>sale_date</td>
<td><code>string</code></td>
<td>The date the product was sold.</td>
</tr>
<tr>
<td>product_or_activity_ref</td>
<td><code>string</code></td>
<td>The reference of the claimed product or activity.</td>
</tr>
<tr>
<td>quantity</td>
<td><code>integer</code></td>
<td>The quantity of products sold.</td>
</tr>
<tr>
<td>points</td>
<td><code>integer</code></td>
<td>The value of points that the claim is worth.</td>
</tr>
<tr>
<td>answers</td>
<td><code>object</code></td>
<td>An object containing questions identified by their id, along with a child object containing the name of the question, and the answer provided for that question.</td>
</tr>
</tbody></table>
<h3 id='performance-module-self-claims-decline-self-claim'>Decline Self Claim</h3>
<p>Endpoint to decline a specified claim.</p>
<h4 id='performance-module-self-claims-decline-self-claim-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/performance/promotions/{promotion_id}/self_claims/{claim_id}/decline</code></p>

<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/self_claims/{claim_id}/decline</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"reason_for_decline_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reason_for_decline_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some reason text string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">Ok</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4117</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-23"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"points_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"declined"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"declined_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Not good enough"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-23T14:15:32.000+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-28T10:41:13.000+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"questions_answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"1174"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 1 - free text"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1175"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 2 - lov r"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1176"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 3 - lov c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1177"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 4 - lov s"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1178"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 5 - date"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1179"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 6 - upload"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id='performance-module-self-claims-decline-self-claim-request-parameters'>Request Parameters</h4><h5 id='performance-module-self-claims-decline-self-claim-request-parameters-body-parameters'>Body Parameters</h5>
<p>If decline reasons are active on the promotion, then one of <code>reason_for_decline_id</code> or <code>reason_for_decline_text</code>, but not both, should be provided when declining a claim.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reason_for_decline_id</td>
<td><code>integer</code></td>
<td>Required conditional - The ID of a reason for decline belonging to the promotion.</td>
</tr>
<tr>
<td>reason_for_decline_text</td>
<td><code>string</code></td>
<td>Required conditional - A text string of a reason for decline. Can only be provided if the promotion allows free text decline reasons.</td>
</tr>
</tbody></table>
<h3 id='performance-module-self-claims-approve-self-claim'>Approve Self Claim</h3>
<p>Endpoint to approve a specified claim.</p>
<h4 id='performance-module-self-claims-approve-self-claim-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/performance/promotions/{promotion_id}/self_claims/{claim_id}/approve</code></p>

<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/self_claims/{claim_id}/approve</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"points_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">Ok</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4117</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-23"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"points_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"declined_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-23T14:15:32.000+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-28T10:41:13.000+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"questions_answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"1174"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 1 - free text"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1175"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 2 - lov r"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1176"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 3 - lov c"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1177"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 4 - lov s"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1178"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 5 - date"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"1179"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 6 - upload"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h4 id='performance-module-self-claims-approve-self-claim-request-parameters'>Request Parameters</h4><h5 id='performance-module-self-claims-approve-self-claim-request-parameters-body-parameters'>Body Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>points_value</td>
<td><code>integer</code></td>
<td>Optional. If provided, the value of points awarded for the claim will be updated to match the value supplied. If the value exceeds the available programme budget, an error will be returned and the claim will not be approved.</td>
</tr>
</tbody></table>
<h2 id='performance-module-data-fields'>Data Fields</h2><h3 id='performance-module-data-fields-list-all-data-fields'>List all Data Fields</h3>
<p>A simple endpoint to fetch a list of the data fields for a performance module
enabled programme scoped to a Promotion. Returns an array of data fields as a flat list.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/data_fields</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">196</span><span class="p">,</span><span class="w">
        </span><span class="nl">"promotion_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"size"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Size"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mandatory"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"list_values"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Small</span><span class="se">\r\n</span><span class="s2">Medium</span><span class="se">\r\n</span><span class="s2">Large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-14T13:34:03.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-14T13:34:03.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">197</span><span class="p">,</span><span class="w">
        </span><span class="nl">"promotion_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"serial_number"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Serial Number"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mandatory"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"field_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"free_text"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"answers"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-14T13:35:03.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-04-14T13:35:03.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='performance-module-data-fields-list-all-data-fields-http-request'>HTTP Request</h4><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/data_fields</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"customer_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoice_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PRE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.35</span><span class="p">,</span><span class="w">
      </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='performance-module-data-fields-list-all-data-fields-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>data_field id</td>
</tr>
<tr>
<td>promotion_id</td>
<td><code>integer</code></td>
<td>promotion id</td>
</tr>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>data_field name in snake case format.</td>
</tr>
<tr>
<td>label</td>
<td><code>string</code></td>
<td>data_field label.</td>
</tr>
<tr>
<td>mandatory</td>
<td><code>boolean</code></td>
<td>Whether this field is required</td>
</tr>
<tr>
<td>field_type</td>
<td><code>string</code></td>
<td>One of: &#39;free_text&#39;, &#39;numeric&#39;, &#39;list_values&#39;, &#39;date&#39;</td>
</tr>
<tr>
<td>answers</td>
<td><code>string</code></td>
<td>A &#39;\r\n&#39; separated list of allowed answers</td>
</tr>
<tr>
<td>created_at</td>
<td><code>date</code></td>
<td>The time at which this field was created</td>
</tr>
<tr>
<td>updated_at</td>
<td><code>date</code></td>
<td>The time at which this field was last updated</td>
</tr>
<tr>
<td>position</td>
<td><code>integer</code></td>
<td>Position of the data field within the form</td>
</tr>
</tbody></table>
<h2 id='performance-module-performance-categories'>Performance Categories</h2><h3 id='performance-module-performance-categories-list-performance-categories'>List Performance Categories</h3>
<p>Endpoint to fetch a list of the performance categories for a performance module enabled programme</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/performance/performance_categories</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">[</span>
<span class="s">    {</span>
<span class="s">        "id": 1,</span>
<span class="s">        "name": "Category Name 1"</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">        "id": 2,</span>
<span class="s">        "name": "Category Name 2"</span>
<span class="s">    }</span>
<span class="s">]</span>
</code></pre></div><h4 id='performance-module-performance-categories-list-performance-categories-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/performance/performance_categories</code></p>
<h4 id='performance-module-performance-categories-list-performance-categories-parameters'>Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>The id of the performance category</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the performance category</td>
</tr>
</tbody></table>
<h2 id='performance-module-performance-products'>Performance Products</h2><h3 id='performance-module-performance-products-creating-a-product'>Creating a Product</h3>
<p>Endpoint to create performance products for a programme with the performance module enabled.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/performance/performance_product_batches</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"performance_products"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"performance_category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Product 1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc1236"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some description"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"performance_category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Product 2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc5766"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some description"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"peformance_category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Product 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc1236"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some description"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"peformance_category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Product 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc5766"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some description"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='performance-module-performance-products-creating-a-product-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/performance/performance_product_batches</code></p>
<h4 id='performance-module-performance-products-creating-a-product-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>performance_category_id</td>
<td><code>integer</code></td>
<td>The id of the category the product will belong to. This must be valid for your programme</td>
</tr>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>The name of the product. Must be unique</td>
</tr>
<tr>
<td>ref</td>
<td><code>string</code></td>
<td>The reference for the product. Must be unique</td>
</tr>
<tr>
<td>product_type</td>
<td><code>string</code></td>
<td>Must be either &#39;product&#39; or &#39;activity&#39;</td>
</tr>
<tr>
<td>value</td>
<td><code>integer</code></td>
<td>A positive two digit number. Must be the value in RRP or the cost value of the product in your programme&#39;s currency. If the product_type is &#39;product&#39;, this must be provided</td>
</tr>
<tr>
<td>description</td>
<td><code>text</code></td>
<td>Some text describing the product. Optional</td>
</tr>
</tbody></table>
<h3 id='performance-module-performance-products-updating-a-product'>Updating a Product</h3>
<p>Endpoint to update performance products for a programme with the performance module enabled.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v2/performance/performance_product_batches</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="s">PATCH /api/v2/performance/performance_product_batches HTTP/1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"performance_products"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"performance_category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Update Name"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc1236"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated Description"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"peformance_category_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated name"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc1236"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"product_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated description"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='performance-module-performance-products-updating-a-product-http-request'>HTTP Request</h4><div class="highlight"><pre class="highlight plaintext"><code>PUT /api/v2/performance/performance_product_batches
PATCH /api/v2/performance/performance_product_batches
</code></pre></div><h4 id='performance-module-performance-products-updating-a-product-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>The id of the performance product to be updated</td>
</tr>
<tr>
<td>performance_category_id</td>
<td><code>integer</code></td>
<td>The id of the category the product will belong to. This must be valid for your programme</td>
</tr>
<tr>
<td>name</td>
<td><code>string</code></td>
<td>The name of the product. Must be unique</td>
</tr>
<tr>
<td>ref</td>
<td><code>string</code></td>
<td>The reference for the product. Must be unique</td>
</tr>
<tr>
<td>product_type</td>
<td><code>string</code></td>
<td>Must be either &#39;product&#39; or &#39;activity&#39;</td>
</tr>
<tr>
<td>value</td>
<td><code>integer</code></td>
<td>A positive two digit number. Must be the value in RRP or the cost value of the product in your programme&#39;s currency. If the product_type is &#39;product&#39;, this must be provided</td>
</tr>
<tr>
<td>description</td>
<td><code>text</code></td>
<td>Some text describing the product. Optional</td>
</tr>
</tbody></table>
<h2 id='performance-module-reward-points'>Reward Points</h2><h3 id='performance-module-reward-points-get-reward-points'>Get Reward Points</h3>
<p>This endpoint returns reward points for a specified promotion. Results are paginated at 100 reward points per page.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/reward_points?page=1</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">166</span><span class="p">,</span><span class="w">
        </span><span class="nl">"promotion_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"points_per_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sale_date_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-02-01"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sale_date_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-12-31"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">350</span><span class="p">,</span><span class="w">
            </span><span class="mi">355</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-27T10:58:31.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-27T10:58:31.000+01:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6345</span><span class="p">,</span><span class="w">
        </span><span class="nl">"promotion_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"points_per_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sale_date_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-18"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sale_date_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2026-11-19"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-25T15:12:58.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-25T15:12:58.000+01:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6346</span><span class="p">,</span><span class="w">
        </span><span class="nl">"promotion_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product 3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"points_per_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sale_date_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-18"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sale_date_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2026-11-19"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-25T15:13:37.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-25T15:13:37.000+01:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='performance-module-reward-points-get-reward-points-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/performance/promotions/{promotion_id}/reward_points?page=1</code></p>
<h4 id='performance-module-reward-points-get-reward-points-url-parameters'>URL Parameters</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>promotion_id</td>
<td><code>integer</code></td>
<td>Required. The ID of the promotion to return reward points for.</td>
</tr>
</tbody></table>
<h4 id='performance-module-reward-points-get-reward-points-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td><code>integer</code></td>
<td>Optional. The requested page number. Defaults to page 1 if not supplied.</td>
</tr>
</tbody></table>
<h3 id='performance-module-reward-points-create-reward-points'>Create Reward Points</h3>
<p>This endpoint creates a reward point for a specified promotion.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/reward_points</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_group_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">355</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">],</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"points_per_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-02-28"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CREATED</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">166</span><span class="p">,</span><span class="w">
    </span><span class="nl">"promotion_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"points_per_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sale_date_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-02-28"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sale_date_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">350</span><span class="p">,</span><span class="w">
        </span><span class="mi">355</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-27T10:58:31.000+01:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-27T10:58:31.000+01:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='performance-module-reward-points-create-reward-points-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/performance/promotions/{promotion_id}/reward_points</code></p>
<h4 id='performance-module-reward-points-create-reward-points-url-parameters'>URL Parameters</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>promotion_id</td>
<td><code>integer</code></td>
<td>Required. The ID of the promotion the reward point belongs to.</td>
</tr>
</tbody></table>
<h4 id='performance-module-reward-points-create-reward-points-body-parameters'>Body Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reference</td>
<td>string</td>
<td>Required. Ref of the <a href="#performance-module-performance-products">performance product</a> that the reward point is to be claimed against.</td>
</tr>
<tr>
<td>user_group_ids</td>
<td>array</td>
<td>Optional. An array of all of the user groups that should be eligible for the reward point.</td>
</tr>
<tr>
<td>quantity</td>
<td>integer</td>
<td>Required. The quantity that must be claimed to qualify for the reward point.</td>
</tr>
<tr>
<td>points_per_quantity</td>
<td>integer</td>
<td>Required. The number of points to award per quantity.</td>
</tr>
<tr>
<td>date_from</td>
<td>date</td>
<td>Required. The date the reward point is eligible from.</td>
</tr>
<tr>
<td>date_to</td>
<td>date</td>
<td>Required. The date the reward point is eligible to.</td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>Optional. The active status of the reward point. Defaults to <code>false</code> (not active).</td>
</tr>
</tbody></table>
<h3 id='performance-module-reward-points-update-reward-points'>Update Reward Points</h3>
<p>This endpoint updates a single reward point for a specified promotion.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/api/v2/performance/promotions/{promotion_id}/reward_points/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"user_group_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">355</span><span class="p">,</span><span class="w"> </span><span class="mi">350</span><span class="p">],</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"points_per_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-02-28"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">166</span><span class="p">,</span><span class="w">
    </span><span class="nl">"promotion_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"points_per_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sale_date_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-02-01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sale_date_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-12-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">350</span><span class="p">,</span><span class="w">
        </span><span class="mi">355</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-27T10:58:31.000+01:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-27T10:58:31.000+01:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='performance-module-reward-points-update-reward-points-http-request'>HTTP Request</h4>
<p><code>PATCH /api/v2/performance/promotions/{promotion_id}/reward_points/{id}</code></p>
<h4 id='performance-module-reward-points-update-reward-points-url-parameters'>URL Parameters</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>promotion_id</td>
<td><code>integer</code></td>
<td>Required. The ID of the promotion the reward point belongs to.</td>
</tr>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>Required. The ID of the reward point to update.</td>
</tr>
</tbody></table>
<h4 id='performance-module-reward-points-update-reward-points-body-parameters'>Body Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_group_ids</td>
<td>array</td>
<td>An array of all of the user groups that should be eligible for the reward point.</td>
</tr>
<tr>
<td>quantity</td>
<td>integer</td>
<td>The quantity that must be claimed to qualify for the reward point.</td>
</tr>
<tr>
<td>points_per_quantity</td>
<td>integer</td>
<td>The number of points to award per quantity.</td>
</tr>
<tr>
<td>date_from</td>
<td>date</td>
<td>The date the reward point is eligible from.</td>
</tr>
<tr>
<td>date_to</td>
<td>date</td>
<td>The date the reward point is eligible to.</td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>The active status of the reward point.</td>
</tr>
</tbody></table>
<h2 id='performance-module-sales-data'>Sales Data</h2><h3 id='performance-module-sales-data-create-sales-data'>Create Sales Data</h3>
<p>Endpoint to create claims against specific promotion. Claims are created by using the data_field names from above as key/value pairs.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/performance/data</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEST-217744"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">170944</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sale_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"product_or_activity_ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEST-217744"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">170944</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Success response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CREATED</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"claims"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"claim"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">48992</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"claims"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"claim"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">48993</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"claim"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">48994</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"claims"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"claim"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"No reward points found"</span><span class="w">
                    </span><span class="p">]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"claims"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"claim"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"No reward points found"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"Product not found"</span><span class="w">
                    </span><span class="p">]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"claims"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"claim"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">48995</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"claims"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"claim"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"No reward points found"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"User not found"</span><span class="w">
                    </span><span class="p">]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">422</span> <span class="ne">UNPROCESSABLE ENTITY</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"A free text question: Please complete this field"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"index_of_failed_data"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='performance-module-sales-data-create-sales-data-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/performance/promotions/{promotion_id}/data</code></p>
<h4 id='performance-module-sales-data-create-sales-data-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>sale_date</td>
<td><code>date</code></td>
<td>The date when this piece of data was created</td>
</tr>
<tr>
<td>product_or_activity_ref</td>
<td><code>string</code></td>
<td>The SKU for the performance product to claim against</td>
</tr>
<tr>
<td>returns_identifier</td>
<td><code>string</code></td>
<td>The returns_identifier to be assigned to the given claim. ( Only required if returns are enabled on the given promotion. Uniqueness for the combination of this field, product ref and the user is required. )</td>
</tr>
<tr>
<td>quantity</td>
<td><code>integer</code></td>
<td>The quantity of products sold. See note on quantity below.</td>
</tr>
<tr>
<td>username</td>
<td><code>string</code></td>
<td>The username or email for the user to assign points to ( Either this or the <code>user_id</code> field needs to be supplied. )</td>
</tr>
<tr>
<td>user_id</td>
<td><code>user_id</code></td>
<td>The MyRewards user ID for the user to assign points to ( Either this or the <code>username</code> field needs to be supplied. )</td>
</tr>
</tbody></table>

<p>You will also need to provide any custom data fields as extra keys for each piece of claim data in snake case format which is provided in the name field for the GET List Data Fields for a Promotion. The Promotion ID will need to correspond to an existing &amp; valid promotion</p>

<p>If one record in a set being uploaded fails to be created either by being invalid (see note on validity below) or through a programme not having enough points - all records in the request will fail to be created and you will receive a 422 unprocessable entity response along with error details and the zero based index of the record that caused the failure.</p>

<p>Validity - A record is considered invalid if there is something wrong with the claim that would be created as a result. For example if a required answer has not been provided. A record will <strong>not</strong> be considered invalid if we cannot find the user, we cannot find the product, or we cannot find an appropriate reward to assign as without these key pieces of information we can&#39;t attempt to create a claim, instead we will continue with the remainder of the request and create the claims that we can. This is done so that if you are sending multiple requests and one of them fails because of a problem with the user or product/reward which is highly likely to happen with batches, we do not fail the entire batch for this one reason. You will still receive a 201 created response if not all of the records resulted in a valid claim, but you will receive a response object detailing what claims if any were created for each record, and what errors prevented a claim from being created where appropriate. This means that even if no claims are created, you will still receive a 201 created response, and you must use the response data to determine if any claims were created.</p>

<p>Quantity - With data upload promotions, if your reward point requires a quantity of 2 or more to be sold before earning points, then we accumulate sales until the necessary quantity is reached. Therefore, if you have a minimum quantity of 2 and you send data for 1, we will still create a claim for 1 unit, but it will be assigned 0 points. If you then send another request for 1 unit, thus bringing your total quantity sold to 2, then we will create a claim with the appropriate points.</p>
<h1 id='recognition-module'>Recognition Module</h1><h2 id='recognition-module-recognition-wall'>Recognition Wall</h2><h3 id='recognition-module-recognition-wall-get-recognition-wall'>Get Recognition Wall</h3>
<p>This endpoint returns wall posts from the recognition wall on your programme (if activated). Results are paginated at 100 wall posts per page and can be filtered down by the specified query parameters. Results will be returned from newest to oldest.</p>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/recognition/recognition_wall</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"campaign_ids"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1,2,3"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"award_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"receiver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">508</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">510</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">2022-01-31</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at_end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">2022-02-28</span><span class="p">,</span><span class="w">
  </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fr"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11914</span><span class="p">,</span><span class="w">
        </span><span class="nl">"award_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4723</span><span class="p">,</span><span class="w">
        </span><span class="nl">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">194</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">508</span><span class="p">,</span><span class="w">
        </span><span class="nl">"receiver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">508</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">351</span><span class="p">,</span><span class="w">
        </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;John&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">Doe&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">john.doe@email.null&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">27/04/2022&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">0&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">27/04/2022&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">-&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">-&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">-&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">-&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">-&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">-&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">&lt;a href='https://yourdomainname.com/liquid/recognition/4723/view_submission' target='_blank'&gt;View Submission&lt;/a&gt;&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">&lt;a href='https:/yourdomainname.com/pdf/awards/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6NDcyMywic3ViIjoiQXdhcmQifQ.uMTNhhnGCOJMwNDuOXDyFqdxKJvrf2B0jogdWYZfFQg/export_pdf.pdf' target='_blank'&gt;Click here&lt;/a&gt;&lt;br /&gt;</span><span class="se">\r\n</span><span class="s2">&lt;/p&gt;</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-27T10:02:59.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-27T10:02:59.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"likes"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11913</span><span class="p">,</span><span class="w">
        </span><span class="nl">"award_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4722</span><span class="p">,</span><span class="w">
        </span><span class="nl">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">136</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">511</span><span class="p">,</span><span class="w">
        </span><span class="nl">"receiver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">508</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">351</span><span class="p">,</span><span class="w">
        </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yourdomainname.com/s3/W1siZiIsIjIwMjIvMDQvMjcvMDgvNTQvNDkvYzNmMDNlMGItYzU1Ni00YmMxLWI4MzgtODQwYWZmODljOWIyL3N0b2NrLXZlY3Rvci12ZWN0b3ItZGFyay1ibHVlLXNlYW1sZXNzLXBhdHRlcm4td2l0aC1nb2xkLWZvaWwtY29uc3RlbGxhdGlvbnMtc3RhcnMtYW5kLWNsb3Vkcy13YXRlcmNvbG9yLW5pZ2h0LTEzMzE1Njc3OTIuanBnIl1d?sha=809982617de31702"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Thanks&lt;/p&gt;</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-27T09:58:42.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-27T09:58:42.000+01:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"likes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">511</span><span class="p">,</span><span class="w">
                </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smashing work"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
                </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wow, nice"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h4 id='recognition-module-recognition-wall-get-recognition-wall-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/recognition/recognition_wall</code></p>
<h4 id='recognition-module-recognition-wall-get-recognition-wall-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>campaign_ids</td>
<td><code>string</code></td>
<td>Optional. ID or ID&#39;s of programme campaigns to restrict wall post activity to.</td>
</tr>
<tr>
<td>award_id</td>
<td><code>integer</code></td>
<td>Optional. ID of the award the wall post activity relates to.</td>
</tr>
<tr>
<td>receiver_id</td>
<td><code>integer</code></td>
<td>Optional. ID of the user the wall post activity relates to.</td>
</tr>
<tr>
<td>sender_id</td>
<td><code>integer</code></td>
<td>Optional. ID of the sender the wall post activity relates to.</td>
</tr>
<tr>
<td>created_at_date</td>
<td><code>date</code></td>
<td>Optional. A parameter for scoping content that was created from that date onwards. Must be provided in ISO 8601 date format <code>YYYY-MM-DD</code>.</td>
</tr>
<tr>
<td>created_at_end_date</td>
<td><code>date</code></td>
<td>Optional. A parameter for scoping content that was created on or before the given date. Must be provided in ISO 8601 date format <code>YYYY-MM-DD</code>.</td>
</tr>
<tr>
<td>page</td>
<td><code>integer</code></td>
<td>Optional. The requested page number. Defaults to page 1 if not supplied.</td>
</tr>
<tr>
<td>locale</td>
<td><code>string</code></td>
<td>Optional. Will return the wall post content in the locale provided. If no locale is provided, the default programme locale will be used</td>
</tr>
</tbody></table>
<h2 id='recognition-module-nominations'>Nominations</h2><h3 id='recognition-module-nominations-update-a-nomination-39-s-status'>Update a Nomination&#39;s status</h3>
<p>An endpoint to update a status of a nomination for a given campaign, by passing
a status parameter. A valid approver for the nomination must also be provided.
You will be returned the updated JSON for the given nomination.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/api/v2/campaigns/{campaign_id}/nominations/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"transition"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"approve"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"approver"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"approved_l1"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PATCH</span> <span class="nn">/api/v2/campaigns/{campaign_id}/nominations/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"transition"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"decline"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"approver"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"declined_reason"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Already nominated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"declined_l1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"declined_reason"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Already nominated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='recognition-module-nominations-update-a-nomination-39-s-status-http-request'>HTTP Request</h4>
<p><code>PATCH /api/v2/campaigns/{campaign_id}/nominations/{id}</code></p>
<h4 id='recognition-module-nominations-update-a-nomination-39-s-status-url-parameters'>URL Parameters</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code>integer</code></td>
<td>(required) campaign_award_request id</td>
</tr>
<tr>
<td>campaign_id</td>
<td><code>integer</code></td>
<td>(required) campaign id</td>
</tr>
</tbody></table>
<h4 id='recognition-module-nominations-update-a-nomination-39-s-status-body-parameters'>Body Parameters</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>approver</td>
<td><code>integer</code></td>
<td>(required) the approver&#39;s user id</td>
</tr>
<tr>
<td>reason</td>
<td><code>string</code></td>
<td>(optional) string which can be provided when declining a nomination</td>
</tr>
<tr>
<td>transition</td>
<td><code>string</code></td>
<td>(required) a valid transition to be performed on the award (<code>approve</code> or <code>decline</code> only)</td>
</tr>
</tbody></table>
<h4 id='recognition-module-nominations-update-a-nomination-39-s-status-approver-information'>Approver Information</h4>
<p>The approver should be a valid approver for the nomination, and for the approver level.</p>
<h4 id='recognition-module-nominations-update-a-nomination-39-s-status-reason-information'>Reason Information</h4>
<p>When declining a nomination an optional string can be provided. This is saved to
the nomination when it is declined.</p>
<h4 id='recognition-module-nominations-update-a-nomination-39-s-status-state-transition-information'>State Transition Information</h4>
<p>Nominations can only transition to a state allowed by its current
state. For example an award with state &#39;pending_l1&#39; can transition to
&#39;approved_l1&#39; but not to &#39;approved_l2&#39;. Only &quot;approve&quot; or &quot;decline&quot; can be provided to the API.</p>
<h2 id='recognition-module-submissions'>Submissions</h2><h3 id='recognition-module-submissions-get-all-submissions'>Get all submissions</h3>
<p>An endpoint to get all submissions for a given campaign. Results are paginated and return 100 records per page.</p>
<h4 id='recognition-module-submissions-get-all-submissions-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/campaigns/{campaign_id}/submissions</code></p>
<h4 id='recognition-module-submissions-get-all-submissions-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td><code>integer</code></td>
<td>The page number that you wish to view. Optional</td>
</tr>
<tr>
<td>status</td>
<td><code>string</code></td>
<td>Status of the submissions to be returned. Optional</td>
</tr>
<tr>
<td>user_id</td>
<td><code>integer</code></td>
<td>ID of a sender that submissions were made by. Optional</td>
</tr>
<tr>
<td>created_at_date</td>
<td><code>date</code></td>
<td>A parameter in ISO-8601 format for scoping submissions that were created from that date onwards. Optional.</td>
</tr>
<tr>
<td>created_at_end_date</td>
<td><code>date</code></td>
<td>A parameter in ISO-8601 format for scoping submissions that were created on or before the given date. Optional.</td>
</tr>
</tbody></table>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/campaigns/{campaign_id}/submissions</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">157</span><span class="p">,</span><span class="w">
        </span><span class="nl">"award_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1317</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved_l1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111744</span><span class="p">,</span><span class="w">
        </span><span class="nl">"points_requested"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-30T14:15:25.000+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-07T16:41:19.000+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"questions_answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"1174"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 1 - free text"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"1175"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 2 - lov r"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"1176"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 3 - lov c"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"points_approved"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"level_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"level_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"declined_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"level_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"level_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">157</span><span class="p">,</span><span class="w">
        </span><span class="nl">"award_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1318</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending_l1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111744</span><span class="p">,</span><span class="w">
        </span><span class="nl">"points_requested"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-30T14:15:25.000+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-07T16:41:19.000+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"questions_answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"1174"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 1 - free text"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"1175"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 2 - lov r"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"1176"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 3 - lov c"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"points_approved"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"level_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"level_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"declined_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"level_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"level_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id='recognition-module-submissions-update-a-submission'>Update a Submission</h3>
<p>An endpoint to update a submission for a given recognition campaign.</p>
<h4 id='recognition-module-submissions-update-a-submission-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/campaigns/{campaign_id}/submissions/{submission_id}/approve</code></p>
<h4 id='recognition-module-submissions-update-a-submission-request-parameters'>Request Parameters</h4><h4 id='recognition-module-submissions-update-a-submission-body-parameters'>Body Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>submission_id</td>
<td><code>integer</code></td>
<td>The ID of the submission you want to approve</td>
</tr>
<tr>
<td>campaign_id</td>
<td><code>integer</code></td>
<td>The ID of the campaign that the submission belongs to</td>
</tr>
</tbody></table>

<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/campaigns/{campaign_id}/submissions/{submission_id}/approve</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">157</span><span class="p">,</span><span class="w">
        </span><span class="nl">"award_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1940</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved_l1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">119742</span><span class="p">,</span><span class="w">
        </span><span class="nl">"points_requested"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-21T11:45:35.000+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-21T11:45:35.000+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"questions_answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"355"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter your unique reference number:"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ref-001"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"points_approved"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"level_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"level_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"declined_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"level_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"level_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id='recognition-module-submissions-decline-submission'>Decline Submission</h3>
<p>Endpoint to decline a given submission.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/campaigns/{campaign_id}/submissions/{id}/decline</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="nl">"reason_for_decline_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An id for a decline reason"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reason_for_decline_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some reason text string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">Ok</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">162668</span><span class="p">,</span><span class="w">
    </span><span class="nl">"award_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2078</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"declined_l2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sender_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">119742</span><span class="p">,</span><span class="w">
    </span><span class="nl">"points_requested"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-09-22T15:52:18.000+01:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-09-22T15:52:18.000+01:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"questions_answers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"355"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom q 1 - free text"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"points_approved"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"level_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"level_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"declined_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"level_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"level_2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Declined Reason"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='recognition-module-submissions-decline-submission-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/campaigns/{campaign_id}/submissions/{id}/decline</code></p>
<h4 id='recognition-module-submissions-decline-submission-request-parameters'>Request Parameters</h4><h5 id='recognition-module-submissions-decline-submission-request-parameters-body-parameters'>Body Parameters</h5>
<p>If decline reasons are active on the campaign, then one of <code>reason_for_decline_id</code> or <code>reason_for_decline_text</code>, but not both, should be provided when declining a submission.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reason_for_decline_id</td>
<td><code>integer</code></td>
<td>The ID of a reason belonging to the campaign. Mandatory if decline reasons enabled on programme.</td>
</tr>
<tr>
<td>reason_for_decline_text</td>
<td><code>string</code></td>
<td>A text string for a decline reason, can only be provided if the campaign allows free text decline reasons. Optional.</td>
</tr>
</tbody></table>
<h1 id='reward-module'>Reward Module</h1><h2 id='reward-module-instant-point-vouchers-ipv'>Instant Point Vouchers (IPV)</h2><h3 id='reward-module-instant-point-vouchers-ipv-create-an-ipv'>Create an IPV</h3>
<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/reward/codes</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Competition winner."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"send_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response: </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Competition winner."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiry_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"send_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code_value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX-YYYY-ZZZZ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"batch_reference"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SSSS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"issued"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"programme_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Generate Reward IPV codes for Programmes with the Rewards Module. </p>
<h4 id='reward-module-instant-point-vouchers-ipv-create-an-ipv-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/reward/codes</code></p>
<h4 id='reward-module-instant-point-vouchers-ipv-create-an-ipv-attributes'>Attributes</h4>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>integer</td>
<td>Required, must be a positive integer. Points value of the IPV</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>Optional, text field</td>
</tr>
<tr>
<td>expiry_date</td>
<td>date</td>
<td>Required, must be in the future and in the format <code>YYYY-MM-DD</code></td>
</tr>
<tr>
<td>send_email</td>
<td>string</td>
<td>Optional, valid email address to which the code will be sent. If provided, the &#39;Send a code&#39; email messages must be configured. Response will have <code>issued</code> set to <code>true</code></td>
</tr>
</tbody></table>
<h3 id='reward-module-instant-point-vouchers-ipv-get-an-ipv'>Get an IPV</h3>
<blockquote>
<p>Header: </p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v2/reward/codes/{id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Response: </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Competition winner."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiry_date"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-12-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"send_email"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code_value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX-YYYY-ZZZZ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"batch_reference"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"SSSS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"issued"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"programme_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To view the details of an IPV code.</p>
<h4 id='reward-module-instant-point-vouchers-ipv-get-an-ipv-http-request'>HTTP Request</h4>
<p><code>GET /api/v2/reward/codes/{id}</code></p>
<h2 id='reward-module-points-overrides'>Points Overrides</h2><h3 id='reward-module-points-overrides-update-a-points-override'>Update a points override</h3>
<p>Set or update a points override for a product within your programme.</p>

<aside>
Note that this endpoint uses IDs from
<a href="https://docs.gps.my-rewards.co.uk/#products-list-all-products">GPS</a>,
and not MyRewards
</aside>

<p>If MyRewards has already imported the product from GPS, the points override will take effect on your programme immediately. Otherwise, you will need to wait for the daily sync to have run before the override takes effect.</p>
<h4 id='reward-module-points-overrides-update-a-points-override-http-request'>HTTP Request</h4>
<p><code>PUT /api/v2/points_overrides/{gps_product_id}</code></p>

<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v2/points_overrides/{gps_product_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre></div>
<blockquote>
<p>Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"programme_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"gps_product_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5678</span><span class="p">,</span><span class="w">
    </span><span class="nl">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='reward-module-points-overrides-update-a-points-override-request-parameters'>Request Parameters</h4><h5 id='reward-module-points-overrides-update-a-points-override-request-parameters-url-parameters'>URL Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>gps_product_id</td>
<td><code>integer</code></td>
<td>The product ID (<strong>from GPS</strong>) whose points you want to override</td>
</tr>
</tbody></table>
<h5 id='reward-module-points-overrides-update-a-points-override-request-parameters-body-parameters'>Body Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>points</td>
<td><code>integer</code></td>
<td>The points override you want to set. Must be &gt;= 0</td>
</tr>
</tbody></table>
<h3 id='reward-module-points-overrides-delete-a-points-override'>Delete a points override</h3>
<p>Remove a points override for a product within your programme.</p>

<aside>
Note that this endpoint uses IDs from
<a href="https://docs.gps.my-rewards.co.uk/#products-list-all-products">GPS</a>,
and not MyRewards
</aside>
<h4 id='reward-module-points-overrides-delete-a-points-override-http-request'>HTTP Request</h4>
<p><code>DELETE /api/v2/points_overrides/{gps_product_id}</code></p>

<blockquote>
<p>Header:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">DELETE</span> <span class="nn">/api/v2/points_overrides/{gps_product_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
</code></pre></div>
<blockquote>
<p>Response (override found for product id):</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre></div>
<blockquote>
<p>Response (no override found for product id):</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not Found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"No override found for product id"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='reward-module-points-overrides-delete-a-points-override-request-parameters'>Request Parameters</h4><h5 id='reward-module-points-overrides-delete-a-points-override-request-parameters-url-parameters'>URL Parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>gps_product_id</td>
<td><code>integer</code></td>
<td>The product ID (<strong>from GPS</strong>) whose points you want to override</td>
</tr>
</tbody></table>
<h1 id='sso-single-sign-on'>SSO (Single Sign On)</h1><p><a name="simple-single-sign-on" class="legacy-link"></a></p>
<h2 id='sso-single-sign-on-saml'>SAML</h2>
<p>Our SSO can use <a href="https://en.wikipedia.org/wiki/SAML_2.0">SAML 2.0</a> to facilitate IdP-initiated Single Sign On to a MyRewards Programme</p>

<p>In this case MyRewards acts as a Service Provider (SP) for a given programme</p>

<p>The client platform is acting as an Identity Provider (IdP)</p>
<h3 id='sso-single-sign-on-saml-process-flow'>Process flow</h3>
<ol>
<li>User is challenged to authenticate at the IdP side</li>
<li>User Logs in to the IdP</li>
<li>User selects access to SP</li>
<li>IdP Responds with assertion to user</li>
<li>User&#39;s browser <code>POST</code>s this assertion to the MyRewards programme</li>
<li>Session established on MyRewards and user is granted access</li>
</ol>
<h3 id='sso-single-sign-on-saml-the-assertion'>The Assertion</h3>
<blockquote>
<p>Example SAML assertion:</p>
</blockquote>
<div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;samlp:Response</span> <span class="na">ID=</span><span class="s">"_UNIQUE-ID"</span> <span class="na">Version=</span><span class="s">"2.0"</span> <span class="na">IssueInstant=</span><span class="s">"2020-01-01T00:00:00.000000Z"</span> <span class="na">Destination=</span><span class="s">"https://programme-name.com/saml/consume"</span> <span class="na">xmlns=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:protocol"</span><span class="nt">&gt;</span>
 <span class="c">&lt;!-- [1] --&gt;</span>
 <span class="nt">&lt;saml:Issuer</span> <span class="na">Format=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:nameid-format:entity"</span> <span class="na">xmlns=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:assertion"</span><span class="nt">&gt;</span>
  https://www.client-company.com
 <span class="nt">&lt;/saml:Issuer&gt;</span>

 <span class="c">&lt;!-- [2] --&gt;</span>
 <span class="nt">&lt;ds:Signature</span> <span class="na">xmlns:ds=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ds:SignedInfo&gt;</span>
   <span class="nt">&lt;ds:CanonicalizationMethod</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2001/10/xmlexc-c14n#"</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;ds:SignatureMethod</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#rsasha1"</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;ds:Reference</span> <span class="na">URI=</span><span class="s">"#_UNIQUE-ID"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ds:Transforms&gt;</span>
     <span class="nt">&lt;ds:Transform</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#enveloped-signature"</span> <span class="nt">/&gt;</span>
     <span class="nt">&lt;ds:Transform</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2001/10/xml-excc14n#"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/ds:Transforms&gt;</span>
    <span class="nt">&lt;ds:DigestMethod</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#sha1"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;ds:DigestValue&gt;</span>...digestValue...<span class="nt">&lt;/ds:DigestValue&gt;</span>
   <span class="nt">&lt;/ds:Reference&gt;</span>
  <span class="nt">&lt;/ds:SignedInfo&gt;</span>
  <span class="nt">&lt;ds:SignatureValue&gt;</span>...signatureValue...<span class="nt">&lt;/ds:SignatureValue&gt;</span>
  <span class="nt">&lt;ds:KeyInfo&gt;</span>
   <span class="nt">&lt;ds:X509Data&gt;</span>
    <span class="nt">&lt;ds:X509Certificate&gt;</span>...Certificate...<span class="nt">&lt;/ds:X509Certificate&gt;</span>
   <span class="nt">&lt;/ds:X509Data&gt;</span>
  <span class="nt">&lt;/ds:KeyInfo&gt;</span>
 <span class="nt">&lt;/ds:Signature&gt;</span>

 <span class="nt">&lt;samlp:Status&gt;</span>
  <span class="nt">&lt;samlp:StatusCode</span> <span class="na">Value=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:status:Success"</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;/samlp:Status&gt;</span>

 <span class="nt">&lt;saml:Assertion</span> <span class="na">Version=</span><span class="s">"2.0"</span> <span class="na">ID=</span><span class="s">"_UNIQUE-ID"</span> <span class="na">IssueInstant=</span><span class="s">"2020-01-01T00:00:00.000000Z"</span> <span class="na">xmlns=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:assertion"</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- [1] --&gt;</span>
  <span class="nt">&lt;saml:Issuer</span> <span class="na">Format=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:nameid-format:entity"</span><span class="nt">&gt;</span>
   https://www.client-company.com
  <span class="nt">&lt;/saml:Issuer&gt;</span>

  <span class="c">&lt;!-- [3] --&gt;</span>
  <span class="nt">&lt;saml:Subject&gt;</span>
   <span class="nt">&lt;saml:NameID</span> <span class="na">Format=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent"</span><span class="nt">&gt;</span>Principal ID<span class="nt">&lt;/saml:NameID&gt;</span>
  <span class="nt">&lt;/saml:Subject&gt;</span>

  <span class="c">&lt;!-- [4] --&gt;</span>
  <span class="nt">&lt;saml:Conditions</span> <span class="na">NotBefore=</span><span class="s">"2020-01-01T00:00:00.000000Z"</span> <span class="na">NotOnOrAfter=</span><span class="s">"2020-01-01T02:00:00.000000Z"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;saml:AudienceRestriction&gt;</span>
    <span class="nt">&lt;saml:Audience&gt;</span>https://programme-name.com/saml/metadata<span class="nt">&lt;/saml:Audience&gt;</span>
   <span class="nt">&lt;/saml:AudienceRestriction&gt;</span>
  <span class="nt">&lt;/saml:Conditions&gt;</span>

  <span class="nt">&lt;saml:AuthnStatement</span> <span class="na">AuthnInstant=</span><span class="s">"2020-01-01T00:00:00.000000Z"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;saml:AuthnContext&gt;</span>
    <span class="nt">&lt;saml:AuthnContextClassRef&gt;</span>urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport<span class="nt">&lt;/saml:AuthnContextClassRef&gt;</span>
   <span class="nt">&lt;/saml:AuthnContext&gt;</span>
  <span class="nt">&lt;/saml:AuthnStatement&gt;</span>

  <span class="nt">&lt;saml:AttributeStatement&gt;</span>
   <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"uid"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xmlns:q1=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">p6:type=</span><span class="s">"q1:string"</span> <span class="na">xmlns:p6=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="nt">&gt;</span>
     john.doe@email.null
    <span class="nt">&lt;/saml:AttributeValue&gt;</span>
   <span class="nt">&lt;/saml:Attribute&gt;</span>
  <span class="nt">&lt;/saml:AttributeStatement&gt;</span>
 <span class="nt">&lt;/saml:Assertion&gt;</span>
<span class="nt">&lt;/samlp:Response&gt;</span>
</code></pre></div>
<blockquote>
<p>Example form:</p>
</blockquote>
<div class="highlight"><pre class="highlight html tab-html"><code><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">action=</span><span class="s">"https://programme-name.com/saml/consume"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"SAMLResponse"</span> <span class="na">value=</span><span class="s">"AbCdefgh..."</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"Submit"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div>
<blockquote>
<p>Example conditions:</p>
</blockquote>
<div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;saml:Conditions</span> <span class="na">NotBefore=</span><span class="s">"2020-01-01T00:00:00.000000Z"</span> <span class="na">NotOnOrAfter=</span><span class="s">"2020-01-01T02:00:00.000000Z"</span><span class="nt">&gt;</span>
 ...
<span class="nt">&lt;/saml:Conditions&gt;</span>
</code></pre></div>
<p>The value of the <code>SAMLResponse</code> parameter is a Base64-encoded <code>&lt;samlp:Response&gt;</code> element, which is transmitted to the service provider via the browser (see &quot;Example form&quot; for an example).</p>

<p>The assertion <strong>must</strong> have the following sub-elements (shown with namespaces from &quot;Example SAML assertion&quot;):</p>
<h4 id='sso-single-sign-on-saml-the-assertion-saml-issuer-1'><code>saml:Issuer</code> [1]</h4>
<p>Name of the IdP in the form of a url e.g. <code>https://client-company.com</code>.</p>
<h4 id='sso-single-sign-on-saml-the-assertion-ds-signature-2'><code>ds:Signature</code> [2]</h4>
<p>All SAML 2.0 Assertions are signed by default. The client company (identity provider) will be required
to include the X.509 Certificate public key in the assertion itself. MyRewards (service provider) will use this to verify the signature.</p>
<h4 id='sso-single-sign-on-saml-the-assertion-saml-subject-3'><code>saml:Subject</code> [3]</h4>
<p>The subject <code>&lt;saml:NameID&gt;</code> is always the unique identifier of the user - by default this set as transient, we require this to be persistent - this is as understood by the IdP.</p>
<h4 id='sso-single-sign-on-saml-the-assertion-saml-conditions-4'><code>saml:Conditions</code> [4]</h4>
<p>This is the timeframe within which the assertion is valid - our preference is to be set to allow for 2 minutes either side to account for clock drift between servers. MyRewards will verify the validity of an assertion with respect to these conditions after validating the signature.</p>

<p>Our servers are synchronised daily to Europe/London timezone - this will change with Daylight Saving Time. We expect the IdP has their server clocks similarly synchronised. The timestamp used will be in Coordinated Universal Time (UTC) and we strongly recommend adding a window of 1 hour plus 2 minutes to account for both clock drift and Daylight Saving Time.</p>

<p>For example, if the date/time was <code>Tuesday 9th October, 2018 15:09 (BST)</code> then we would expect to see the <code>&lt;saml:Conditions&gt;</code> element look like the snippet shown in &quot;Example conditions&quot;.</p>
<h4 id='sso-single-sign-on-saml-the-assertion-saml-attributestatement'><code>saml:AttributeStatement</code></h4>
<p>The attribute statement is a list of name/value pairs conveying information about the user themselves. We only use one <code>&lt;saml:Attribute&gt;</code> with a <code>Name</code> specified by the programme configuration (<code>uid</code> by default) and expect the value to be one of:</p>

<ul>
<li>user&#39;s email address - as recorded on MyRewards Programme</li>
<li>username - as recorded on MyRewards Programme</li>
<li>unique identifier/primary key for the user as recorded in MyRewards Programme</li>
</ul>

<p>The value we expect, as well as the name of the attribute to check, is determined by the programme configuration.</p>
<h3 id='sso-single-sign-on-saml-next-steps'>Next steps</h3>
<p>The following information is required to set up SAML SSO on the MyRewards system:</p>

<ul>
<li>URL of the identify provider</li>
<li>Fingerprint of X.509 certificate  this can be extracted from the public key</li>
<li>URL access redirect</li>
<li>Failed log in redirect (if not included in the assertion)</li>
<li>User identifier (id, email or username)</li>
</ul>

<p>In response, you will be provided with a metadata file - this can often be useful for automatically configuring some IdP systems such as Active Directory Federated Services.</p>
<h3 id='sso-single-sign-on-saml-further-information'>Further information</h3>
<p>For further information on SAML 2.0 please go to the official SAML 2.0 websites:</p>

<ul>
<li><a href="http://www.oasis-open.org/home/index.php">http://www.oasis-open.org/home/index.php</a></li>
<li><a href="http://saml.xml.org">http://saml.xml.org</a></li>
</ul>
<h2 id='sso-single-sign-on-saml-user-provisioning'>SAML User Provisioning</h2>
<p>If your programme has been configured to allow user provisioning for SAML SSO you may pass additional attributes in your SAMLResponse to be used to create a user if they don&#39;t exist (unless your programme is configured with id as the user identifier, in which case we will never attempt to create a user and you must manage user creation in some other way) or update a user if they do exist. If your programme has not been set up to allow user provisioning, any additional attributes sent will be ignored.</p>

<table><thead>
<tr>
<th>User identifier</th>
<th>Create user</th>
<th>Update user</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>email</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>username</td>
<td>Yes</td>
<td>Yes</td>
</tr>
</tbody></table>
<h3 id='sso-single-sign-on-saml-user-provisioning-the-saml-attributestatement'>The SAML AttributeStatement</h3>
<blockquote>
<p>Example SAML assertion with additional attributes:</p>
</blockquote>
<div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;samlp:Response</span> <span class="na">ID=</span><span class="s">"_UNIQUE-ID"</span> <span class="na">Version=</span><span class="s">"2.0"</span> <span class="na">IssueInstant=</span><span class="s">"2020-01-01T00:00:00.000000Z"</span> <span class="na">Destination=</span><span class="s">"https://programme-name.com/saml/consume"</span> <span class="na">xmlns=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:protocol"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;saml:Issuer</span> <span class="na">Format=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:nameid-format:entity"</span> <span class="na">xmlns=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:assertion"</span><span class="nt">&gt;</span>
  https://www.client-company.com
 <span class="nt">&lt;/saml:Issuer&gt;</span>
 <span class="nt">&lt;ds:Signature</span> <span class="na">xmlns:ds=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ds:SignedInfo&gt;</span>
   <span class="nt">&lt;ds:CanonicalizationMethod</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2001/10/xmlexc-c14n#"</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;ds:SignatureMethod</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#rsasha1"</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;ds:Reference</span> <span class="na">URI=</span><span class="s">"#_UNIQUE-ID"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ds:Transforms&gt;</span>
     <span class="nt">&lt;ds:Transform</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#enveloped-signature"</span> <span class="nt">/&gt;</span>
     <span class="nt">&lt;ds:Transform</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2001/10/xml-excc14n#"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/ds:Transforms&gt;</span>
    <span class="nt">&lt;ds:DigestMethod</span> <span class="na">Algorithm=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#sha1"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;ds:DigestValue&gt;</span>...digestValue...<span class="nt">&lt;/ds:DigestValue&gt;</span>
   <span class="nt">&lt;/ds:Reference&gt;</span>
  <span class="nt">&lt;/ds:SignedInfo&gt;</span>
  <span class="nt">&lt;ds:SignatureValue&gt;</span>...signatureValue...<span class="nt">&lt;/ds:SignatureValue&gt;</span>
  <span class="nt">&lt;ds:KeyInfo&gt;</span>
   <span class="nt">&lt;ds:X509Data&gt;</span>
    <span class="nt">&lt;ds:X509Certificate&gt;</span>...Certificate...<span class="nt">&lt;/ds:X509Certificate&gt;</span>
   <span class="nt">&lt;/ds:X509Data&gt;</span>
  <span class="nt">&lt;/ds:KeyInfo&gt;</span>
 <span class="nt">&lt;/ds:Signature&gt;</span>

 <span class="nt">&lt;samlp:Status&gt;</span>
  <span class="nt">&lt;samlp:StatusCode</span> <span class="na">Value=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:status:Success"</span> <span class="nt">/&gt;</span>
 <span class="nt">&lt;/samlp:Status&gt;</span>

 <span class="nt">&lt;saml:Assertion</span> <span class="na">Version=</span><span class="s">"2.0"</span> <span class="na">ID=</span><span class="s">"_UNIQUE-ID"</span> <span class="na">IssueInstant=</span><span class="s">"2020-01-01T00:00:00.000000Z"</span> <span class="na">xmlns=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:assertion"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;saml:Issuer</span> <span class="na">Format=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:nameid-format:entity"</span><span class="nt">&gt;</span>
   https://www.client-company.com
  <span class="nt">&lt;/saml:Issuer&gt;</span>
  <span class="nt">&lt;saml:Subject&gt;</span>
   <span class="nt">&lt;saml:NameID</span> <span class="na">Format=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent"</span><span class="nt">&gt;</span>Principal ID<span class="nt">&lt;/saml:NameID&gt;</span>
  <span class="nt">&lt;/saml:Subject&gt;</span>
  <span class="nt">&lt;saml:Conditions</span> <span class="na">NotBefore=</span><span class="s">"2020-01-01T00:00:00.000000Z"</span> <span class="na">NotOnOrAfter=</span><span class="s">"2020-01-01T02:00:00.000000Z"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;saml:AudienceRestriction&gt;</span>
    <span class="nt">&lt;saml:Audience&gt;</span>https://programme-name.com/saml/metadata<span class="nt">&lt;/saml:Audience&gt;</span>
   <span class="nt">&lt;/saml:AudienceRestriction&gt;</span>
  <span class="nt">&lt;/saml:Conditions&gt;</span>

  <span class="nt">&lt;saml:AuthnStatement</span> <span class="na">AuthnInstant=</span><span class="s">"2020-01-01T00:00:00.000000Z"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;saml:AuthnContext&gt;</span>
    <span class="nt">&lt;saml:AuthnContextClassRef&gt;</span>urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport<span class="nt">&lt;/saml:AuthnContextClassRef&gt;</span>
   <span class="nt">&lt;/saml:AuthnContext&gt;</span>
  <span class="nt">&lt;/saml:AuthnStatement&gt;</span>

  <span class="nt">&lt;saml:AttributeStatement&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"uid"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>john.doe@email.null<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"username"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>john.doe<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"email"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>john.doe@email.null<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"firstname"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>John<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"lastname"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>Doe<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"communication_preference"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>sms<span class="nt">&lt;/saml:AttributeValue&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>email<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"registration_question_2"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>Working From Home<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"registration_question_16"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>Monday<span class="nt">&lt;/saml:AttributeValue&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>Wednesday<span class="nt">&lt;/saml:AttributeValue&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>Friday<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"chosen_locale"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>en<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"user_group_id"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>10<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"company"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>Org Inc<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"company_name"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>Org Inc<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
    <span class="nt">&lt;saml:Attribute</span> <span class="na">Name=</span><span class="s">"company_identifier"</span> <span class="na">NameFormat=</span><span class="s">"urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;saml:AttributeValue</span> <span class="na">xsi:type=</span><span class="s">"xs:string"</span><span class="nt">&gt;</span>org-inc-01<span class="nt">&lt;/saml:AttributeValue&gt;</span>
    <span class="nt">&lt;/saml:Attribute&gt;</span>
  <span class="nt">&lt;/saml:AttributeStatement&gt;</span>
 <span class="nt">&lt;/saml:Assertion&gt;</span>
<span class="nt">&lt;/samlp:Response&gt;</span>
</code></pre></div>
<p>Exactly which attributes we will accept depend upon the configuration of your user fields, however you must still always have a <code>&lt;saml:Attribute&gt;</code> with a <code>Name</code> specified by the programme configuration (<code>uid</code> by default) and expect the value to be one of:</p>

<ul>
<li>user&#39;s email address - as recorded on MyRewards Programme</li>
<li>username - as recorded on MyRewards Programme</li>
<li>unique identifier/primary key for the user as recorded in MyRewards Programme</li>
</ul>

<p>The following standard user fields may be provided as an attributes Name value e.g. <code>&lt;saml:Attribute Name=&quot;firstname&quot;&gt;</code>:</p>

<ul>
<li>username</li>
<li>email</li>
<li>title</li>
<li>firstname</li>
<li>lastname</li>
<li>job_title</li>
<li>address_1</li>
<li>address_2</li>
<li>town</li>
<li>postcode</li>
<li>county</li>
<li>country</li>
<li>date_of_birth</li>
<li>telephone</li>
<li>mobile</li>
<li>chosen_locale</li>
<li>tsandcs</li>
<li>consented</li>
<li>marketing_consented</li>
<li>user_group_id</li>
<li>company (depending on the configuration of your programme - see below)</li>
</ul>
<h4 id='sso-single-sign-on-saml-user-provisioning-the-saml-attributestatement-companies'>Companies</h4>
<p>If your programme uses a free text company question, then you may just send this as &quot;company&quot; as above, however, if your programme has a managed list of companies, then you must provide the users company details differently and we expect both of the below:</p>

<ul>
<li>company_name</li>
<li>company_identifier</li>
</ul>
<h4 id='sso-single-sign-on-saml-user-provisioning-the-saml-attributestatement-custom-registration-questions'>Custom registration questions</h4>
<p>If your programme has custom registration questions, you must send an attribute with a name prefixed with &quot;registration_question_&quot; followed by the id of the custom question to be answered. e.g. <code>&lt;saml:Attribute Name=&quot;registration_question_123&quot;&gt;</code> where 123 is the id of the registration question. See documentation for getting registration question id&#39;s <a href="#core-registration-questions-get-all-registration-questions">here</a> or contact your MyRewards administrator if you need further assistance.</p>
<h3 id='sso-single-sign-on-saml-user-provisioning-further-notes'>Further notes</h3>
<p>Whichever field has been set up as your user identifier for your integration should be sent as an attribute with the name specified as your identifier field. For example, if your programme has been set up with username as the user identifier, and uid as the identifier field, then you should send the value in <code>&lt;saml:Attribute Name=&quot;uid&quot;&gt;</code> and not <code>&lt;saml:Attribute Name=&quot;username&quot;&gt;</code>. If you do send <code>&lt;saml:Attribute Name=&quot;username&quot;&gt;</code> and that is your user identifier it will be ignored.</p>
<h2 id='sso-single-sign-on-openid-connect'>OpenID Connect</h2>
<p>MyRewards now supports a limited subset of OpenID Connect for SSO. We currently use the <a href="https://openid.net/specs/openid-connect-core-1_0.html#ImplicitFlowAuth">&quot;implicit flow&quot;</a>, using the <a href="https://openid.net/specs/oauth-v2-multiple-response-types-1_0.html#id_token">ID token-only response type</a> with the <a href="https://openid.net/specs/oauth-v2-form-post-response-mode-1_0.html"><code>form_post</code> response mode</a>. More features from the OpenID Connect specification may be available in the future - please contact your MyRewards representative.</p>
<h3 id='sso-single-sign-on-openid-connect-process-flow'>Process flow</h3>
<ol>
<li>User initiates a sign-on request from MyRewards.</li>
<li>MyRewards fetches configuration from the discovery URL provided.</li>
<li>Using the information from (2), MyRewards redirects the user to the authorization endpoint.</li>
<li>User is authenticated by the OpenID Connect provider.</li>
<li>JWT ID token is <code>POST</code>-ed back to MyRewards as a URL-encoded form body.</li>
<li>MyRewards validates the ID token and redirects the user to a holding page whilst profile provisioning is completed via a back channel.</li>
<li>Session established on MyRewards and user is granted access.</li>
</ol>

<blockquote>
<p>Process flow example requests/responses</p>

<p>(2) Fetch configuration from discovery URL:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/.well-known/openid-configuration</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">openid-connect-provider.example.com</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://openid-connect-provider.example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"authorization_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://openid-connect-provider.example.com/authorize"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"jwks_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://openid-connect-provider.example.com/jwks"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"response_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"id_token"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"subject_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"public"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"id_token_signing_alg_values_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"RS256"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"scopes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"openid"</span><span class="p">,</span><span class="w"> </span><span class="s2">"email"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"response_modes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"form_post"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>(3) Redirect to authorization endpoint:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">303</span> <span class="ne">Found</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://openid-connect-provider.com/authorize?response_type=...</span>
</code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/authorize?
response_type=id_token
&amp;response_mode=form_post
&amp;client_id=client_id_goes_here
&amp;scope=openid%20email
&amp;redirect_uri=https%3A%2F%2Fmyrewards-programme.example.com%2Fusers%2Fauth%2Fopenid_connect%2Fcallback
&amp;state=random-value-from-myrewards
&amp;nonce=another-random-value-from-myrewards</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">openid-connect-provider.example.com</span>
</code></pre></div>
<blockquote>
<p>(5) <code>POST</code> ID token back to MyRewards:</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/users/auth/openid_connect/callback</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">openid-connect-provider.example.com</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>

id_token=jwt.appears.here
&amp;state=random-value-from-myrewards
</code></pre></div>
<blockquote>
<p>Second part of JWT:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://server.example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"aud"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client_id_goes_here"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"another-random-value-from-myrewards"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"exp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1311281970</span><span class="p">,</span><span class="w">
    </span><span class="nl">"iat"</span><span class="p">:</span><span class="w"> </span><span class="mi">1311280970</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='sso-single-sign-on-openid-connect-implementation-notes'>Implementation notes</h3><h4 id='sso-single-sign-on-openid-connect-implementation-notes-configuration-discovery'>Configuration discovery</h4>
<p>For ease of configuration, and to aid in dynamic configuration changes from the OpenID Connect provider, MyRewards relies on discovery to find most of the configuration values for the provider. To that end, you will need to configure your programme with a &quot;discovery URL&quot;, which should be a <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfig">domain (or domain with a path)</a> that has the path <code>/.well-known/openid-configuration</code>, from which MyRewards will attempt to load the configuration of your OpenID implementation.</p>

<p>This should have the <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">following fields</a> as a minimum (these are all marked as &quot;REQUIRED&quot; by the spec so it is likely your implementation will already have them):</p>

<ul>
<li><code>issuer</code></li>
<li><code>authorization_endpoint</code></li>
<li><code>jwks_uri</code></li>
<li><code>response_types_supported</code> - should include <code>id_token</code></li>
<li><code>subject_types_supported</code> - should include <code>public</code></li>
<li><code>id_token_signing_alg_values_supported</code></li>
</ul>

<p>In addition, if the <code>response_types_supported</code> field is included, it should include <code>form_post</code>.</p>

<p>MyRewards does not currently support using <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#IssuerDiscovery">WebFinger</a> to obtain the discovery endpoint.</p>
<h3 id='sso-single-sign-on-openid-connect-id-token'>ID token</h3>
<p>MyRewards uses the <code>sub</code> field from the ID token as the unique user identifier, and populates the &quot;username&quot; registration question with its value. The <code>email</code> field is also extracted and its value used for the &quot;email&quot; registration question. Due to the dynamic nature of user data on MyRewards, other fields will need to be provided via a side channel (e.g. the <a href="#core-users-update-a-user">update user API</a>).</p>
<h3 id='sso-single-sign-on-openid-connect-next-steps'>Next steps</h3>
<p>The following information is required to set up OpenID Connect SSO on the MyRewards system:</p>

<ul>
<li>Discovery URL - as described above</li>
<li>Client ID</li>
<li>Client secret</li>
<li>A URL to redirect users on login failure (this is typically a content page on the MyRewards programme itself)</li>
</ul>
<h3 id='sso-single-sign-on-openid-connect-further-information'>Further information</h3>
<p>For further information on OpenID Connect please refer to the official documentation:</p>

<ul>
<li><a href="https://openid.net/connect/">https://openid.net/connect</a></li>
<li><a href="https://openid.net/specs/openid-connect-core-1_0.html">https://openid.net/specs/openid-connect-core-1_0.html</a></li>
</ul>
<h1 id='deprecated-end-points'>Deprecated End-points</h1><h2 id='deprecated-end-points-users-v2'>Users (v2)</h2>
<p>In order to identify users, a programme will expect to use either username, email or mobile as a unique key to authenticate user with. As a consumer of this service, it is mandatory to supply a value for this field. Furthermore, there will be other fields that have been declared mandatory for your programme and user creation (POST) will fail if these values are not populated or provided.</p>
<h3 id='deprecated-end-points-users-v2-create-a-user'>Create a User</h3>
<p>In order to create a user account on the MyRewards 2.0 platform there is often
some information about the user we are creating that needs to be known before
the account can be successfully created.</p>

<p>Firstly, the user group that the user will be created as a member of must be
known, we provide an endpoint to query the usergroups for your programme and if
necessary to reconstruct the hierarchy for the usergroups see the usergroups
section.</p>

<p>Additionally, user accounts can have extra data required over and above the
minimal default fields for a user account. Typically, these take the form of
employee data, membership number etc and can be defined as part of your
programme. These extra data are called registration_questions, for more
information please see the registration_questions section.</p>

<p>Telephone and mobile number fields must be supplied in international format, meaning starting with a &#39;+&#39; followed by the international country code (I.e. the UK is 44) followed by at least 8 numeric characters.</p>

<p>Answers to the registration questions are provided in an array of objects, nested
under the key <code>registration_answers_attributes</code>. The nested objects themselves must
have the keys <code>registration_question_id</code> and <code>answer</code>. If the question allows multiple
answers, then the value for <code>answer</code> should be an array, as show in the example below.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/api/v2/users</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Org Inc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"job_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No 1 The Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Street"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"town"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Town"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The County"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TH3 P057"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chosen_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tsandcs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketing_consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working From Home"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Friday"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">CREATED</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Org Inc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"job_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No 1 The Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Street"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"town"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Town"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The County"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TH3 P057"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chosen_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tsandcs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketing_consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Working From Home"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Friday"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='deprecated-end-points-users-v2-create-a-user-http-request'>HTTP Request</h4>
<p><code>POST /api/v2/users</code></p>
<h4 id='deprecated-end-points-users-v2-create-a-user-parameters'>Parameters</h4>
<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td><code>string</code></td>
<td>may be required, see user identification above, must be unique to the programme if required</td>
</tr>
<tr>
<td>email</td>
<td><code>string</code></td>
<td>valid email address and may be required, see user identification above, must be unique to the programme if required</td>
</tr>
<tr>
<td>title</td>
<td><code>string</code></td>
<td>salutation (Mr, Mrs, Ms, etc) no strict validation.</td>
</tr>
<tr>
<td>firstname</td>
<td><code>string</code></td>
<td>Required</td>
</tr>
<tr>
<td>lastname</td>
<td><code>string</code></td>
<td>Required</td>
</tr>
<tr>
<td>company</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>job_title</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>address_1</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>address_2</td>
<td><code>string</code></td>
<td>optional</td>
</tr>
<tr>
<td>town</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>postcode</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>county</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>country</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>date_of_birth</td>
<td><code>date</code></td>
<td>must be provided in reverse date format <code>YYYY-MM-DD</code>, Potentially required - see programme data requirements</td>
</tr>
<tr>
<td>telephone</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements - if supplied must be international format (starting with a &#39;+&#39; followed by international dialling code - UK is 44 - followed by at least 8 numeric characters)</td>
</tr>
<tr>
<td>mobile</td>
<td><code>string</code></td>
<td>Potentially required - see programme data requirements, if required, must be unique - if supplied must be international format (starting with a &#39;+&#39; followed by international dialling code - UK is 44 - followed by at least 8 numeric characters)</td>
</tr>
<tr>
<td>tsandcs</td>
<td><code>boolean</code></td>
<td>Required</td>
</tr>
<tr>
<td>user_group_id</td>
<td><code>integer</code></td>
<td>optional, will default to programme&#39;s default user_group, if not provided</td>
</tr>
<tr>
<td>registration_answers_attributes</td>
<td><code>array</code></td>
<td>array of hashes that contain a registration_question_id and an answer. Some or all of the registration questions may require answers. See registration_questions endpoint documentation</td>
</tr>
<tr>
<td>consented</td>
<td><code>boolean</code></td>
<td>Not required if programme access type is pre_registration with additional details, or SSO or if the programme doesn&#39;t have an active privacy policy.</td>
</tr>
<tr>
<td>marketing_consented</td>
<td><code>boolean</code></td>
<td>Can be true or false, not required if programme access type is pre_registration with additional details, or SSO or if the programme doesn&#39;t have an active privacy policy.</td>
</tr>
</tbody></table>
<h3 id='deprecated-end-points-users-v2-update-a-user'>Update a User</h3>
<p>The update user api is available to update user information. This uses the same
params as the create user api above.</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/api/v2/users/{user_id}</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Token token={APIKEY}:{SECRETKEY}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Office"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Tuesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Thursday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Friday"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight http tab-http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">Application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@email.null"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Org Inc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"job_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demo User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No 1 The Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Street"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"town"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Town"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The County"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TH3 P057"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1970-01-01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+440000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chosen_locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_group_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tsandcs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketing_consented"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"registration_answers_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Office"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"registration_question_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"answer"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Tuesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Thursday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Friday"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='deprecated-end-points-users-v2-update-a-user-http-request'>HTTP Request</h4>
<p><code>PUT /api/v2/users/{user_id}</code></p>

<p><code>PATCH /api/v2/users/{user_id}</code></p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
